{"version":3,"file":"AsyncSelect-esalpZPC.js","sources":["../../../../qc-components/dynamic-form/components/AsyncSelect.vue"],"sourcesContent":["<template>\n\t<a-select\n\t\t:value=\"selected\"\n\t\t@change=\"selected = $event as string\"\n\t\t\n\t\t:loading=\"loading\"\n\t\t:options=\"realOptions\"\n\t\tv-bind=\"$attrs\"\n\t/>\n</template>\n\n<script setup lang=\"ts\">\nimport ASelect from \"ant-design-vue/es/select\";\nimport { computed, ref } from \"vue\";\nimport { Options, OptionsGetter } from \"../types\";\n\ntype propType = {\n\tvalue: string | number | undefined;\n\toptions?:  Options | OptionsGetter;\n};\n\nconst props = defineProps<propType>();\nconst emit = defineEmits();\n\nconst realOptions = ref<Options>([]);\nconst selected = computed({\n\tget() {\n\t\treturn props.value;\n\t},\n\tset(value) {\n\t\temit(\"update:value\", value);\n\t},\n});\nconst loading = ref(false);\n\nconst getData = async () => {\n\tloading.value = true;\n\ttry {\n\t\tif (props.options instanceof Function) {\n\t\t\tconst optionsPromise = await props.options();\n\t\t\trealOptions.value = optionsPromise;\n\t\t} else {\n\t\t\tif (props.options && !Array.isArray(props.options)) {\n\t\t\t\tconsole.error(\n\t\t\t\t\t\"options must be an array or a function that returns an array\"\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\trealOptions.value = props.options || [];\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n\tloading.value = false;\n\tselected.value = props.value;\n};\n\ngetData();\n\n</script>\n"],"names":["props","__props","emit","__emit","realOptions","ref","selected","computed","value","loading","optionsPromise","error"],"mappings":";;;;;;;;;AAqBA,UAAMA,IAAQC,GACRC,IAAOC,GAEPC,IAAcC,EAAa,CAAA,CAAE,GAC7BC,IAAWC,EAAS;AAAA,MACzB,MAAM;AACL,eAAOP,EAAM;AAAA,MACd;AAAA,MACA,IAAIQ,GAAO;AACV,QAAAN,EAAK,gBAAgBM,CAAK;AAAA,MAC3B;AAAA,IAAA,CACA,GACKC,IAAUJ,EAAI,EAAK;AAwBjB,YAtBQ,YAAY;AAC3B,MAAAI,EAAQ,QAAQ;AACZ,UAAA;AACC,YAAAT,EAAM,mBAAmB,UAAU;AAChC,gBAAAU,IAAiB,MAAMV,EAAM;AACnC,UAAAI,EAAY,QAAQM;AAAA,QAAA,OACd;AACN,cAAIV,EAAM,WAAW,CAAC,MAAM,QAAQA,EAAM,OAAO,GAAG;AAC3C,oBAAA;AAAA,cACP;AAAA,YAAA;AAED;AAAA,UACD;AACY,UAAAI,EAAA,QAAQJ,EAAM,WAAW,CAAA;AAAA,QACtC;AAAA,eACQW,GAAO;AACf,gBAAQ,MAAMA,CAAK;AAAA,MACpB;AACA,MAAAF,EAAQ,QAAQ,IAChBH,EAAS,QAAQN,EAAM;AAAA,IAAA;;;;;;;;"}