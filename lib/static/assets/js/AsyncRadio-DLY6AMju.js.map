{"version":3,"file":"AsyncRadio-DLY6AMju.js","sources":["../../../../qc-components/dynamic-form/components/AsyncRadio.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<span\n\t\t\t@click=\"reflash\"\n\t\t\tstyle=\"cursor: pointer; color: hsla(237deg 74% 33% / 61%)\"\n\t\t\t>{{ Realoptions.length > 0 ? \"\" : msg }}</span\n\t\t>\n\t\t<a-radio-group v-model:value=\"checked\" v-bind=\"$attrs\">\n\t\t\t<a-radio\n\t\t\t\tv-for=\"option in Realoptions\"\n\t\t\t\t:key=\"option.value\"\n\t\t\t\t:value=\"option.value\"\n\t\t\t>\n\t\t\t\t{{ option.label }}\n\t\t\t</a-radio>\n\t\t</a-radio-group>\n\t</div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from \"vue\";\nimport ARadio from \"ant-design-vue/es/radio\";\nimport ARadioGroup from \"ant-design-vue/es/radio/Group\";\nimport { Options, OptionsGetter } from \"../types\";\n\ntype propsType = {\n\tvalue: string | number | undefined;\n\toptions: OptionsGetter;\n};\n\nconst props = defineProps<propsType>();\nconst emit = defineEmits([\"update:value\"]);\nconst checked = computed({\n\tget() {\n\t\treturn props.value;\n\t},\n\tset(value) {\n\t\temit(\"update:value\", value);\n\t},\n});\n\nconst msg = ref(\"加载中....\");\n\nconst Realoptions = ref<Options>([]);\n\nconst getData = async () => {\n\tmsg.value = \"加载中....\";\n\ttry {\n\t\tif (props.options instanceof Function) {\n\t\t\tconst optionsPromise = await props.options();\n\t\t\tRealoptions.value = optionsPromise;\n\t\t} else {\n\t\t\tif (props.options && !Array.isArray(props.options)) {\n\t\t\t\tconsole.error(\n\t\t\t\t\t\"options must be an array or a function that returns an array\"\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tRealoptions.value = props.options;\n\t\t}\n\t\tif (Realoptions.value.length === 0) {\n\t\t\tmsg.value = \"暂无数据\";\n\t\t} else {\n\t\t\tmsg.value = \"\";\n\t\t}\n\t} catch (error) {\n\t\tmsg.value = \"数据加载失败\";\n\t}\n\tchecked.value = props.value;\n};\n\ngetData();\n\nconst reflash = async () => {\n\tawait getData();\n};\n\n</script>\n"],"names":["props","__props","emit","__emit","checked","computed","value","msg","ref","Realoptions","getData","optionsPromise","reflash"],"mappings":";;;;;;;;;;AA8BA,UAAMA,IAAQC,GACRC,IAAOC,GACPC,IAAUC,EAAS;AAAA,MACxB,MAAM;AACL,eAAOL,EAAM;AAAA,MACd;AAAA,MACA,IAAIM,GAAO;AACV,QAAAJ,EAAK,gBAAgBI,CAAK;AAAA,MAC3B;AAAA,IAAA,CACA,GAEKC,IAAMC,EAAI,SAAS,GAEnBC,IAAcD,EAAa,CAAA,CAAE,GAE7BE,IAAU,YAAY;AAC3B,MAAAH,EAAI,QAAQ;AACR,UAAA;AACC,YAAAP,EAAM,mBAAmB,UAAU;AAChC,gBAAAW,IAAiB,MAAMX,EAAM;AACnC,UAAAS,EAAY,QAAQE;AAAA,QAAA,OACd;AACN,cAAIX,EAAM,WAAW,CAAC,MAAM,QAAQA,EAAM,OAAO,GAAG;AAC3C,oBAAA;AAAA,cACP;AAAA,YAAA;AAED;AAAA,UACD;AACA,UAAAS,EAAY,QAAQT,EAAM;AAAA,QAC3B;AACI,QAAAS,EAAY,MAAM,WAAW,IAChCF,EAAI,QAAQ,SAEZA,EAAI,QAAQ;AAAA,cAEE;AACf,QAAAA,EAAI,QAAQ;AAAA,MACb;AACA,MAAAH,EAAQ,QAAQJ,EAAM;AAAA,IAAA;AAGf,IAAAU;AAER,UAAME,IAAU,YAAY;AAC3B,YAAMF,EAAQ;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;"}