{"version":3,"file":"useMergedState-6HyZ0xMy.js","sources":["../../../../node_modules/.pnpm/ant-design-vue@4.2.3_vue@3.4.27_typescript@5.4.5_/node_modules/ant-design-vue/es/_util/hooks/useMergedState.js"],"sourcesContent":["import { toRaw, watchEffect, unref, watch, ref } from 'vue';\nexport default function useMergedState(defaultStateValue, option) {\n  const {\n    defaultValue,\n    value = ref()\n  } = option || {};\n  let initValue = typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n  if (value.value !== undefined) {\n    initValue = unref(value);\n  }\n  if (defaultValue !== undefined) {\n    initValue = typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n  }\n  const innerValue = ref(initValue);\n  const mergedValue = ref(initValue);\n  watchEffect(() => {\n    let val = value.value !== undefined ? value.value : innerValue.value;\n    if (option.postState) {\n      val = option.postState(val);\n    }\n    mergedValue.value = val;\n  });\n  function triggerChange(newValue) {\n    const preVal = mergedValue.value;\n    innerValue.value = newValue;\n    if (toRaw(mergedValue.value) !== newValue && option.onChange) {\n      option.onChange(newValue, preVal);\n    }\n  }\n  // Effect of reset value to `undefined`\n  watch(value, () => {\n    innerValue.value = value.value;\n  });\n  return [mergedValue, triggerChange];\n}"],"names":["useMergedState","defaultStateValue","option","defaultValue","value","ref","initValue","unref","innerValue","mergedValue","watchEffect","val","triggerChange","newValue","preVal","toRaw","watch"],"mappings":";AACe,SAASA,EAAeC,GAAmBC,GAAQ;AAChE,QAAM;AAAA,IACJ,cAAAC;AAAA,IACA,OAAAC,IAAQC,EAAK;AAAA,EACjB,IAAMH,KAAU,CAAA;AACd,MAAII,IAAY,OAAOL,KAAsB,aAAaA,EAAiB,IAAKA;AAChF,EAAIG,EAAM,UAAU,WAClBE,IAAYC,EAAMH,CAAK,IAErBD,MAAiB,WACnBG,IAAY,OAAOH,KAAiB,aAAaA,EAAY,IAAKA;AAEpE,QAAMK,IAAaH,EAAIC,CAAS,GAC1BG,IAAcJ,EAAIC,CAAS;AACjC,EAAAI,EAAY,MAAM;AAChB,QAAIC,IAAMP,EAAM,UAAU,SAAYA,EAAM,QAAQI,EAAW;AAC/D,IAAIN,EAAO,cACTS,IAAMT,EAAO,UAAUS,CAAG,IAE5BF,EAAY,QAAQE;AAAA,EACxB,CAAG;AACD,WAASC,EAAcC,GAAU;AAC/B,UAAMC,IAASL,EAAY;AAC3B,IAAAD,EAAW,QAAQK,GACfE,EAAMN,EAAY,KAAK,MAAMI,KAAYX,EAAO,YAClDA,EAAO,SAASW,GAAUC,CAAM;AAAA,EAEnC;AAED,SAAAE,EAAMZ,GAAO,MAAM;AACjB,IAAAI,EAAW,QAAQJ,EAAM;AAAA,EAC7B,CAAG,GACM,CAACK,GAAaG,CAAa;AACpC;","x_google_ignoreList":[0]}