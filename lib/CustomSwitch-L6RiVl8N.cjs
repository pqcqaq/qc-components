"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("vue"),i=require("./index-BWWm-k8Z.cjs"),I=require("./KeyCode-BtL9tph1.cjs"),z=require("./omit-Z5Er5v04.cjs"),H=e=>{const{componentCls:n}=e,c=`${n}-inner`;return{[n]:{[`&${n}-small`]:{minWidth:e.switchMinWidthSM,height:e.switchHeightSM,lineHeight:`${e.switchHeightSM}px`,[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMaxSM,paddingInlineEnd:e.switchInnerMarginMinSM,[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`},[`${c}-unchecked`]:{marginTop:-e.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:e.switchPinSizeSM,height:e.switchPinSizeSM},[`${n}-loading-icon`]:{top:(e.switchPinSizeSM-e.switchLoadingIconSize)/2,fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMinSM,paddingInlineEnd:e.switchInnerMarginMaxSM,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:e.marginXXS/2,marginInlineEnd:-e.marginXXS/2}},[`&${n}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:-e.marginXXS/2,marginInlineEnd:e.marginXXS/2}}}}}}},E=e=>{const{componentCls:n}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:(e.switchPinSize-e.fontSize)/2,color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},_=e=>{const{componentCls:n}=e,c=`${n}-handle`;return{[n]:{[c]:{position:"absolute",top:e.switchPadding,insetInlineStart:e.switchPadding,width:e.switchPinSize,height:e.switchPinSize,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:e.colorWhite,borderRadius:e.switchPinSize/2,boxShadow:e.switchHandleShadow,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${c}`]:{insetInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding}px)`},[`&:not(${n}-disabled):active`]:{[`${c}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${c}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},V=e=>{const{componentCls:n}=e,c=`${n}-inner`;return{[n]:{[c]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:e.switchInnerMarginMax,paddingInlineEnd:e.switchInnerMarginMin,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${c}-checked, ${c}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none"},[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`},[`${c}-unchecked`]:{marginTop:-e.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${c}`]:{paddingInlineStart:e.switchInnerMarginMin,paddingInlineEnd:e.switchInnerMarginMax,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:e.switchPadding*2,marginInlineEnd:-e.switchPadding*2}},[`&${n}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:-e.switchPadding*2,marginInlineEnd:e.switchPadding*2}}}}}},B=e=>{const{componentCls:n}=e;return{[n]:i._extends(i._extends(i._extends(i._extends({},i.resetComponent(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:e.switchMinWidth,height:e.switchHeight,lineHeight:`${e.switchHeight}px`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),i.genFocusStyle(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},D=i.genComponentStyleHook("Switch",e=>{const n=e.fontSize*e.lineHeight,c=e.controlHeight/2,l=2,o=n-l*2,d=c-l*2,r=i.merge(e,{switchMinWidth:o*2+l*4,switchHeight:n,switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchInnerMarginMin:o/2,switchInnerMarginMax:o+l+l*2,switchPadding:l,switchPinSize:o,switchBg:e.colorBgContainer,switchMinWidthSM:d*2+l*2,switchHeightSM:c,switchInnerMarginMinSM:d/2,switchInnerMarginMaxSM:d+l+l*2,switchPinSizeSM:d,switchHandleShadow:`0 2px 4px 0 ${new i.TinyColor("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:e.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[B(r),V(r),_(r),E(r),H(r)]}),F=i.tuple("small","default"),L=()=>({id:String,prefixCls:String,size:i.PropTypes.oneOf(F),disabled:{type:Boolean,default:void 0},checkedChildren:i.PropTypes.any,unCheckedChildren:i.PropTypes.any,tabindex:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number,i.PropTypes.looseBool]),checkedValue:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number,i.PropTypes.looseBool]).def(!0),unCheckedValue:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number,i.PropTypes.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}),O=a.defineComponent({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:L(),slots:Object,setup(e,n){let{attrs:c,slots:l,expose:o,emit:d}=n;const r=i.useInjectFormItemContext(),w=i.useInjectDisabled(),g=a.computed(()=>{var t;return(t=e.disabled)!==null&&t!==void 0?t:w.value});a.onBeforeMount(()=>{i.warning(!("defaultChecked"in c),"Switch","'defaultChecked' is deprecated, please use 'v-model:checked'"),i.warning(!("value"in c),"Switch","`value` is not validate prop, do you mean `checked`?")});const S=a.ref(e.checked!==void 0?e.checked:c.defaultChecked),$=a.computed(()=>S.value===e.checkedValue);a.watch(()=>e.checked,()=>{S.value=e.checked});const{prefixCls:s,direction:M,size:v}=i.useConfigInject("switch",e),[y,P]=D(s),u=a.ref(),m=()=>{var t;(t=u.value)===null||t===void 0||t.focus()};o({focus:m,blur:()=>{var t;(t=u.value)===null||t===void 0||t.blur()}}),a.onMounted(()=>{a.nextTick(()=>{e.autofocus&&!g.value&&u.value.focus()})});const p=(t,h)=>{g.value||(d("update:checked",t),d("change",t,h),r.onFieldChange())},C=t=>{d("blur",t)},b=t=>{m();const h=$.value?e.unCheckedValue:e.checkedValue;p(h,t),d("click",h,t)},f=t=>{t.keyCode===I.KeyCode.LEFT?p(e.unCheckedValue,t):t.keyCode===I.KeyCode.RIGHT&&p(e.checkedValue,t),d("keydown",t)},x=t=>{var h;(h=u.value)===null||h===void 0||h.blur(),d("mouseup",t)},T=a.computed(()=>({[`${s.value}-small`]:v.value==="small",[`${s.value}-loading`]:e.loading,[`${s.value}-checked`]:$.value,[`${s.value}-disabled`]:g.value,[s.value]:!0,[`${s.value}-rtl`]:M.value==="rtl",[P.value]:!0}));return()=>{var t;return y(a.createVNode(i.Wave,null,{default:()=>[a.createVNode("button",i._objectSpread2(i._objectSpread2(i._objectSpread2({},z.omit(e,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),c),{},{id:(t=e.id)!==null&&t!==void 0?t:r.id.value,onKeydown:f,onClick:b,onBlur:C,onMouseup:x,type:"button",role:"switch","aria-checked":S.value,disabled:g.value||e.loading,class:[c.class,T.value],ref:u}),[a.createVNode("div",{class:`${s.value}-handle`},[e.loading?a.createVNode(i.LoadingOutlined,{class:`${s.value}-loading-icon`},null):null]),a.createVNode("span",{class:`${s.value}-inner`},[a.createVNode("span",{class:`${s.value}-inner-checked`},[i.getPropsSlot(l,e,"checkedChildren")]),a.createVNode("span",{class:`${s.value}-inner-unchecked`},[i.getPropsSlot(l,e,"unCheckedChildren")])])])]}))}}}),A=i.withInstall(O),N=a.defineComponent({__name:"CustomSwitch",props:{value:{type:Boolean}},emits:["update:value"],setup(e,{emit:n}){const c=e,l=n,o=a.computed({get(){return c.value},set(d){l("update:value",d)}});return(d,r)=>(a.openBlock(),a.createBlock(a.unref(A),a.mergeProps({checked:o.value,"onUpdate:checked":r[0]||(r[0]=w=>o.value=w)},d.$attrs),null,16,["checked"]))}});exports.default=N;
