"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),t=require("./index-nNpR0eDD.cjs"),L=require("./Checkbox-Yj_wAsXA.cjs"),F=require("./index-Dd6B-GM_.cjs"),X=()=>({name:String,prefixCls:String,options:t.arrayType([]),disabled:Boolean,id:String}),z=()=>t._extends(t._extends({},X()),{defaultValue:t.arrayType(),value:t.arrayType(),onChange:t.functionType(),"onUpdate:value":t.functionType()}),J=()=>({prefixCls:String,defaultChecked:t.booleanType(),checked:t.booleanType(),disabled:t.booleanType(),isGroup:t.booleanType(),value:t.PropTypes.any,name:String,id:String,indeterminate:t.booleanType(),type:t.stringType("checkbox"),autofocus:t.booleanType(),onChange:t.functionType(),"onUpdate:checked":t.functionType(),onClick:t.functionType(),skipGroup:t.booleanType(!1)}),Q=()=>t._extends(t._extends({},J()),{indeterminate:t.booleanType(!1)}),D=Symbol("CheckboxGroupContext");var B=function(n,x){var l={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&x.indexOf(r)<0&&(l[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)x.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(l[r[s]]=n[r[s]]);return l};const _=e.defineComponent({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:Q(),setup(n,x){let{emit:l,attrs:r,slots:s,expose:g}=x;const f=t.useInjectFormItemContext(),C=t.FormItemInputContext.useInject(),{prefixCls:v,direction:i,disabled:k}=t.useConfigInject("checkbox",n),p=t.useInjectDisabled(),[m,y]=F.useStyle(v),u=e.inject(D,void 0),S=Symbol("checkboxUniId"),T=e.computed(()=>(u==null?void 0:u.disabled.value)||k.value);e.watchEffect(()=>{!n.skipGroup&&u&&u.registerValue(S,n.value)}),e.onBeforeUnmount(()=>{u&&u.cancelValue(S)}),e.onMounted(()=>{t.warning(!!(n.checked!==void 0||u||n.value===void 0),"Checkbox","`value` is not validate prop, do you mean `checked`?")});const j=a=>{const d=a.target.checked;l("update:checked",d),l("change",a),f.onFieldChange()},I=e.ref();return g({focus:()=>{var a;(a=I.value)===null||a===void 0||a.focus()},blur:()=>{var a;(a=I.value)===null||a===void 0||a.blur()}}),()=>{var a;const d=t.flattenChildren((a=s.default)===null||a===void 0?void 0:a.call(s)),{indeterminate:c,skipGroup:b,id:M=f.id.value}=n,P=B(n,["indeterminate","skipGroup","id"]),{onMouseenter:A,onMouseleave:w,onInput:Y,class:E,style:U}=r,q=B(r,["onMouseenter","onMouseleave","onInput","class","style"]),h=t._extends(t._extends(t._extends(t._extends({},P),{id:M,prefixCls:v.value}),q),{disabled:T.value});u&&!b?(h.onChange=function(){for(var N=arguments.length,$=new Array(N),V=0;V<N;V++)$[V]=arguments[V];l("change",...$),u.toggleOption({label:d,value:n.value})},h.name=u.name.value,h.checked=u.mergedValue.value.includes(n.value),h.disabled=T.value||p.value,h.indeterminate=c):h.onChange=j;const R=t.classNames({[`${v.value}-wrapper`]:!0,[`${v.value}-rtl`]:i.value==="rtl",[`${v.value}-wrapper-checked`]:h.checked,[`${v.value}-wrapper-disabled`]:h.disabled,[`${v.value}-wrapper-in-form-item`]:C.isFormItemInput},E,y.value),K=t.classNames({[`${v.value}-indeterminate`]:c},y.value),H=c?"mixed":void 0;return m(e.createVNode("label",{class:R,style:U,onMouseenter:A,onMouseleave:w},[e.createVNode(L.VcCheckbox,t._objectSpread2(t._objectSpread2({"aria-checked":H},h),{},{class:K,ref:I}),null),d.length?e.createVNode("span",null,[d]):null]))}}}),O=e.defineComponent({compatConfig:{MODE:3},name:"ACheckboxGroup",inheritAttrs:!1,props:z(),setup(n,x){let{slots:l,attrs:r,emit:s,expose:g}=x;const f=t.useInjectFormItemContext(),{prefixCls:C,direction:v}=t.useConfigInject("checkbox",n),i=e.computed(()=>`${C.value}-group`),[k,p]=F.useStyle(i),m=e.ref((n.value===void 0?n.defaultValue:n.value)||[]);e.watch(()=>n.value,()=>{m.value=n.value||[]});const y=e.computed(()=>n.options.map(o=>typeof o=="string"||typeof o=="number"?{label:o,value:o}:o)),u=e.ref(Symbol()),S=e.ref(new Map),T=o=>{S.value.delete(o),u.value=Symbol()},j=(o,a)=>{S.value.set(o,a),u.value=Symbol()},I=e.ref(new Map);e.watch(u,()=>{const o=new Map;for(const a of S.value.values())o.set(a,!0);I.value=o});const G=o=>{const a=m.value.indexOf(o.value),d=[...m.value];a===-1?d.push(o.value):d.splice(a,1),n.value===void 0&&(m.value=d);const c=d.filter(b=>I.value.has(b)).sort((b,M)=>{const P=y.value.findIndex(w=>w.value===b),A=y.value.findIndex(w=>w.value===M);return P-A});s("update:value",c),s("change",c),f.onFieldChange()};return e.provide(D,{cancelValue:T,registerValue:j,toggleOption:G,mergedValue:m,name:e.computed(()=>n.name),disabled:e.computed(()=>n.disabled)}),g({mergedValue:m}),()=>{var o;const{id:a=f.id.value}=n;let d=null;return y.value&&y.value.length>0&&(d=y.value.map(c=>{var b;return e.createVNode(_,{prefixCls:C.value,key:c.value.toString(),disabled:"disabled"in c?c.disabled:n.disabled,indeterminate:c.indeterminate,value:c.value,checked:m.value.indexOf(c.value)!==-1,onChange:c.onChange,class:`${i.value}-item`},{default:()=>[l.label!==void 0?(b=l.label)===null||b===void 0?void 0:b.call(l,c):c.label]})})),k(e.createVNode("div",t._objectSpread2(t._objectSpread2({},r),{},{class:[i.value,{[`${i.value}-rtl`]:v.value==="rtl"},r.class,p.value],id:a}),[d||((o=l.default)===null||o===void 0?void 0:o.call(l))]))}}});_.Group=O;_.install=function(n){return n.component(_.name,_),n.component(O.name,O),n};const W=e.defineComponent({__name:"AsyncCheckBox",props:{value:{},options:{type:[Array,Function]}},emits:["update:value"],setup(n,{emit:x}){const l=n,r=x,s=e.computed({get(){return l.value},set(i){r("update:value",i)}}),g=e.ref("加载中...."),f=e.ref([]),C=async()=>{g.value="加载中....";try{if(l.options instanceof Function){const i=await l.options();f.value=i}else{if(l.options&&!Array.isArray(l.options)){console.error("options must be an array or a function that returns an array");return}f.value=l.options}}catch{g.value="数据加载失败"}};e.onMounted(async()=>{if(!l.options){g.value="暂无数据";return}await C()});const v=async()=>{await C()};return(i,k)=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("span",{onClick:v,style:{cursor:"pointer",color:"hsla(237deg 74% 33% / 61%)"}},e.toDisplayString(f.value.length>0?"":g.value),1),e.createVNode(e.unref(O),e.mergeProps({value:s.value,"onUpdate:value":k[0]||(k[0]=p=>s.value=p)},i.$attrs),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value,p=>(e.openBlock(),e.createBlock(e.unref(_),{key:p.value,value:p.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(p.label),1)]),_:2},1032,["value"]))),128))]),_:1},16,["value"])]))}});exports.default=W;
