"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const o=require("vue"),r=require("./index-BWWm-k8Z.cjs"),on=require("./move-UqUfk5Dk.cjs"),he=require("./KeyCode-BtL9tph1.cjs"),je=require("./omit-Z5Er5v04.cjs"),me=require("./index-Cg4FBf4w.cjs"),Pt=require("./pickAttrs-z1qBRjR7.cjs"),Se=require("./eagerComputed-97uPznIf.cjs"),it=require("./useMergedState-Rr2xtYiJ.cjs"),st=require("./statusUtils-lU1c3TbN.cjs"),an=require("./index-BzRmPhn1.cjs"),Dt=Symbol("TreeContextKey"),ln=o.defineComponent({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return o.provide(Dt,o.computed(()=>e.value)),()=>{var a;return(a=n.default)===null||a===void 0?void 0:a.call(n)}}}),Ze=()=>o.inject(Dt,o.computed(()=>({}))),_t=Symbol("KeysStateKey"),rn=e=>{o.provide(_t,e)},Tt=()=>o.inject(_t,{expandedKeys:o.shallowRef([]),selectedKeys:o.shallowRef([]),loadedKeys:o.shallowRef([]),loadingKeys:o.shallowRef([]),checkedKeys:o.shallowRef([]),halfCheckedKeys:o.shallowRef([]),expandedKeysSet:o.computed(()=>new Set),selectedKeysSet:o.computed(()=>new Set),loadedKeysSet:o.computed(()=>new Set),loadingKeysSet:o.computed(()=>new Set),checkedKeysSet:o.computed(()=>new Set),halfCheckedKeysSet:o.computed(()=>new Set),flattenNodes:o.shallowRef([])}),sn=e=>{let{prefixCls:t,level:n,isStart:a,isEnd:l}=e;const s=`${t}-indent-unit`,i=[];for(let d=0;d<n;d+=1)i.push(o.createVNode("span",{key:d,class:{[s]:!0,[`${s}-start`]:a[d],[`${s}-end`]:l[d]}},null));return o.createVNode("span",{"aria-hidden":"true",class:`${t}-indent`},[i])},$t={eventKey:[String,Number],prefixCls:String,title:r.PropTypes.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:r.PropTypes.any,switcherIcon:r.PropTypes.any,domRef:{type:Function}},cn={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},dn=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:r.PropTypes.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:r.PropTypes.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:r.PropTypes.any,switcherIcon:r.PropTypes.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var un=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n};const ct="open",dt="close",fn="---",ut=o.defineComponent({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:$t,isTreeNode:1,setup(e,t){let{attrs:n,slots:a,expose:l}=t;r.warning$1(!("slots"in e.data),`treeData slots is deprecated, please use ${Object.keys(e.data.slots||{}).map(u=>"`v-slot:"+u+"` ")}instead`);const s=o.shallowRef(!1),i=Ze(),{expandedKeysSet:d,selectedKeysSet:v,loadedKeysSet:c,loadingKeysSet:f,checkedKeysSet:p,halfCheckedKeysSet:w}=Tt(),{dragOverNodeKey:S,dropPosition:K,keyEntities:m}=i.value,k=o.computed(()=>We(e.eventKey,{expandedKeysSet:d.value,selectedKeysSet:v.value,loadedKeysSet:c.value,loadingKeysSet:f.value,checkedKeysSet:p.value,halfCheckedKeysSet:w.value,dragOverNodeKey:S,dropPosition:K,keyEntities:m})),C=Se.eagerComputed(()=>k.value.expanded),T=Se.eagerComputed(()=>k.value.selected),_=Se.eagerComputed(()=>k.value.checked),$=Se.eagerComputed(()=>k.value.loaded),x=Se.eagerComputed(()=>k.value.loading),R=Se.eagerComputed(()=>k.value.halfChecked),F=Se.eagerComputed(()=>k.value.dragOver),I=Se.eagerComputed(()=>k.value.dragOverGapTop),L=Se.eagerComputed(()=>k.value.dragOverGapBottom),J=Se.eagerComputed(()=>k.value.pos),X=o.shallowRef(),te=o.computed(()=>{const{eventKey:u}=e,{keyEntities:g}=i.value,{children:O}=g[u]||{};return!!(O||[]).length}),ne=o.computed(()=>{const{isLeaf:u}=e,{loadData:g}=i.value,O=te.value;return u===!1?!1:u||!g&&!O||g&&$.value&&!O}),se=o.computed(()=>ne.value?null:C.value?ct:dt),le=o.computed(()=>{const{disabled:u}=e,{disabled:g}=i.value;return!!(g||u)}),ve=o.computed(()=>{const{checkable:u}=e,{checkable:g}=i.value;return!g||u===!1?!1:g}),re=o.computed(()=>{const{selectable:u}=e,{selectable:g}=i.value;return typeof u=="boolean"?u:g}),Y=o.computed(()=>{const{data:u,active:g,checkable:O,disableCheckbox:A,disabled:z,selectable:Z}=e;return r._extends(r._extends({active:g,checkable:O,disableCheckbox:A,disabled:z,selectable:Z},u),{dataRef:u,data:u,isLeaf:ne.value,checked:_.value,expanded:C.value,loading:x.value,selected:T.value,halfChecked:R.value})}),ie=o.getCurrentInstance(),Q=o.computed(()=>{const{eventKey:u}=e,{keyEntities:g}=i.value,{parent:O}=g[u]||{};return r._extends(r._extends({},ze(r._extends({},e,k.value))),{parent:O})}),oe=o.reactive({eventData:Q,eventKey:o.computed(()=>e.eventKey),selectHandle:X,pos:J,key:ie.vnode.key});l(oe);const ae=u=>{const{onNodeDoubleClick:g}=i.value;g(u,Q.value)},de=u=>{if(le.value)return;const{onNodeSelect:g}=i.value;u.preventDefault(),g(u,Q.value)},H=u=>{if(le.value)return;const{disableCheckbox:g}=e,{onNodeCheck:O}=i.value;if(!ve.value||g)return;u.preventDefault();const A=!_.value;O(u,Q.value,A)},ee=u=>{const{onNodeClick:g}=i.value;g(u,Q.value),re.value?de(u):H(u)},ce=u=>{const{onNodeMouseEnter:g}=i.value;g(u,Q.value)},pe=u=>{const{onNodeMouseLeave:g}=i.value;g(u,Q.value)},De=u=>{const{onNodeContextMenu:g}=i.value;g(u,Q.value)},_e=u=>{const{onNodeDragStart:g}=i.value;u.stopPropagation(),s.value=!0,g(u,oe);try{u.dataTransfer.setData("text/plain","")}catch{}},Te=u=>{const{onNodeDragEnter:g}=i.value;u.preventDefault(),u.stopPropagation(),g(u,oe)},$e=u=>{const{onNodeDragOver:g}=i.value;u.preventDefault(),u.stopPropagation(),g(u,oe)},Ce=u=>{const{onNodeDragLeave:g}=i.value;u.stopPropagation(),g(u,oe)},ke=u=>{const{onNodeDragEnd:g}=i.value;u.stopPropagation(),s.value=!1,g(u,oe)},Ie=u=>{const{onNodeDrop:g}=i.value;u.preventDefault(),u.stopPropagation(),s.value=!1,g(u,oe)},Ke=u=>{const{onNodeExpand:g}=i.value;x.value||g(u,Q.value)},Ne=()=>{const{data:u}=e,{draggable:g}=i.value;return!!(g&&(!g.nodeDraggable||g.nodeDraggable(u)))},Ee=()=>{const{draggable:u,prefixCls:g}=i.value;return u&&(u!=null&&u.icon)?o.createVNode("span",{class:`${g}-draggable-icon`},[u.icon]):null},Ve=()=>{var u,g,O;const{switcherIcon:A=a.switcherIcon||((u=i.value.slots)===null||u===void 0?void 0:u[(O=(g=e.data)===null||g===void 0?void 0:g.slots)===null||O===void 0?void 0:O.switcherIcon])}=e,{switcherIcon:z}=i.value,Z=A||z;return typeof Z=="function"?Z(Y.value):Z},be=()=>{const{loadData:u,onNodeLoad:g}=i.value;x.value||u&&C.value&&!ne.value&&!te.value&&!$.value&&g(Q.value)};o.onMounted(()=>{be()}),o.onUpdated(()=>{be()});const Le=()=>{const{prefixCls:u}=i.value,g=Ve();if(ne.value)return g!==!1?o.createVNode("span",{class:r.classNames(`${u}-switcher`,`${u}-switcher-noop`)},[g]):null;const O=r.classNames(`${u}-switcher`,`${u}-switcher_${C.value?ct:dt}`);return g!==!1?o.createVNode("span",{onClick:Ke,class:O},[g]):null},we=()=>{var u,g;const{disableCheckbox:O}=e,{prefixCls:A}=i.value,z=le.value;return ve.value?o.createVNode("span",{class:r.classNames(`${A}-checkbox`,_.value&&`${A}-checkbox-checked`,!_.value&&R.value&&`${A}-checkbox-indeterminate`,(z||O)&&`${A}-checkbox-disabled`),onClick:H},[(g=(u=i.value).customCheckable)===null||g===void 0?void 0:g.call(u)]):null},P=()=>{const{prefixCls:u}=i.value;return o.createVNode("span",{class:r.classNames(`${u}-iconEle`,`${u}-icon__${se.value||"docu"}`,x.value&&`${u}-icon_loading`)},null)},j=()=>{const{disabled:u,eventKey:g}=e,{draggable:O,dropLevelOffset:A,dropPosition:z,prefixCls:Z,indent:h,dropIndicatorRender:y,dragOverNodeKey:b,direction:N}=i.value;return!u&&O!==!1&&b===g?y({dropPosition:z,dropLevelOffset:A,indent:h,prefixCls:Z,direction:N}):null},W=()=>{var u,g,O,A,z,Z;const{icon:h=a.icon,data:y}=e,b=a.title||((u=i.value.slots)===null||u===void 0?void 0:u[(O=(g=e.data)===null||g===void 0?void 0:g.slots)===null||O===void 0?void 0:O.title])||((A=i.value.slots)===null||A===void 0?void 0:A.title)||e.title,{prefixCls:N,showIcon:V,icon:D,loadData:E}=i.value,M=le.value,q=`${N}-node-content-wrapper`;let B;if(V){const ue=h||((z=i.value.slots)===null||z===void 0?void 0:z[(Z=y==null?void 0:y.slots)===null||Z===void 0?void 0:Z.icon])||D;B=ue?o.createVNode("span",{class:r.classNames(`${N}-iconEle`,`${N}-icon__customize`)},[typeof ue=="function"?ue(Y.value):ue]):P()}else E&&x.value&&(B=P());let U;typeof b=="function"?U=b(Y.value):U=b,U=U===void 0?fn:U;const G=o.createVNode("span",{class:`${N}-title`},[U]);return o.createVNode("span",{ref:X,title:typeof b=="string"?b:"",class:r.classNames(`${q}`,`${q}-${se.value||"normal"}`,!M&&(T.value||s.value)&&`${N}-node-selected`),onMouseenter:ce,onMouseleave:pe,onContextmenu:De,onClick:ee,onDblclick:ae},[B,G,j()])};return()=>{const u=r._extends(r._extends({},e),n),{eventKey:g,isLeaf:O,isStart:A,isEnd:z,domRef:Z,active:h,data:y,onMousemove:b,selectable:N}=u,V=un(u,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:D,filterTreeNode:E,keyEntities:M,dropContainerKey:q,dropTargetKey:B,draggingNodeKey:U}=i.value,G=le.value,ue=Pt.pickAttrs(V,{aria:!0,data:!0}),{level:ye}=M[g]||{},ge=z[z.length-1],fe=Ne(),Oe=!G&&fe,Me=U===g,qe=N!==void 0?{"aria-selected":!!N}:void 0;return o.createVNode("div",r._objectSpread2(r._objectSpread2({ref:Z,class:r.classNames(n.class,`${D}-treenode`,{[`${D}-treenode-disabled`]:G,[`${D}-treenode-switcher-${C.value?"open":"close"}`]:!O,[`${D}-treenode-checkbox-checked`]:_.value,[`${D}-treenode-checkbox-indeterminate`]:R.value,[`${D}-treenode-selected`]:T.value,[`${D}-treenode-loading`]:x.value,[`${D}-treenode-active`]:h,[`${D}-treenode-leaf-last`]:ge,[`${D}-treenode-draggable`]:Oe,dragging:Me,"drop-target":B===g,"drop-container":q===g,"drag-over":!G&&F.value,"drag-over-gap-top":!G&&I.value,"drag-over-gap-bottom":!G&&L.value,"filter-node":E&&E(Q.value)}),style:n.style,draggable:Oe,"aria-grabbed":Me,onDragstart:Oe?_e:void 0,onDragenter:fe?Te:void 0,onDragover:fe?$e:void 0,onDragleave:fe?Ce:void 0,onDrop:fe?Ie:void 0,onDragend:fe?ke:void 0,onMousemove:b},qe),ue),[o.createVNode(sn,{prefixCls:D,level:ye,isStart:A,isEnd:z},null),Ee(),Le(),we(),W()])}}});function xe(e,t){if(!e)return[];const n=e.slice(),a=n.indexOf(t);return a>=0&&n.splice(a,1),n}function Pe(e,t){const n=(e||[]).slice();return n.indexOf(t)===-1&&n.push(t),n}function et(e){return e.split("-")}function It(e,t){return`${e}-${t}`}function vn(e){return e&&e.type&&e.type.isTreeNode}function hn(e,t){const n=[],a=t[e];function l(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(i=>{let{key:d,children:v}=i;n.push(d),l(v)})}return l(a.children),n}function pn(e){if(e.parent){const t=et(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function yn(e){const t=et(e.pos);return Number(t[t.length-1])===0}function ft(e,t,n,a,l,s,i,d,v,c){var f;const{clientX:p,clientY:w}=e,{top:S,height:K}=e.target.getBoundingClientRect(),k=((c==="rtl"?-1:1)*(((l==null?void 0:l.x)||0)-p)-12)/a;let C=d[n.eventKey];if(w<S+K/2){const J=i.findIndex(ne=>ne.key===C.key),X=J<=0?0:J-1,te=i[X].key;C=d[te]}const T=C.key,_=C,$=C.key;let x=0,R=0;if(!v.has(T))for(let J=0;J<k&&pn(C);J+=1)C=C.parent,R+=1;const F=t.eventData,I=C.node;let L=!0;return yn(C)&&C.level===0&&w<S+K/2&&s({dragNode:F,dropNode:I,dropPosition:-1})&&C.key===n.eventKey?x=-1:(_.children||[]).length&&v.has($)?s({dragNode:F,dropNode:I,dropPosition:0})?x=0:L=!1:R===0?k>-1.5?s({dragNode:F,dropNode:I,dropPosition:1})?x=1:L=!1:s({dragNode:F,dropNode:I,dropPosition:0})?x=0:s({dragNode:F,dropNode:I,dropPosition:1})?x=1:L=!1:s({dragNode:F,dropNode:I,dropPosition:1})?x=1:L=!1,{dropPosition:x,dropLevelOffset:R,dropTargetKey:C.key,dropTargetPos:C.pos,dragOverNodeKey:$,dropContainerKey:x===0?null:((f=C.parent)===null||f===void 0?void 0:f.key)||null,dropAllowed:L}}function vt(e,t){if(!e)return;const{multiple:n}=t;return n?e.slice():e.length?[e[0]]:e}function Ue(e){if(!e)return null;let t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(typeof e=="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return r.warning$1(!1,"`checkedKeys` is not an array or an object"),null;return t}function ht(e,t){const n=new Set;function a(l){if(n.has(l))return;const s=t[l];if(!s)return;n.add(l);const{parent:i,node:d}=s;d.disabled||i&&a(i.key)}return(e||[]).forEach(l=>{a(l)}),[...n]}var gn=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n};function He(e,t){return e??t}function tt(e){const{title:t,_title:n,key:a,children:l}=e||{},s=t||"title";return{title:s,_title:n||[s],key:a||"key",children:l||"children"}}function mn(e){function t(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return r.filterEmpty(n).map(l=>{var s,i,d,v;if(!vn(l))return r.warning$1(!l,"Tree/TreeNode can only accept TreeNode as children."),null;const c=l.children||{},f=l.key,p={};for(const[J,X]of Object.entries(l.props))p[r.camelize(J)]=X;const{isLeaf:w,checkable:S,selectable:K,disabled:m,disableCheckbox:k}=p,C={isLeaf:w||w===""||void 0,checkable:S||S===""||void 0,selectable:K||K===""||void 0,disabled:m||m===""||void 0,disableCheckbox:k||k===""||void 0},T=r._extends(r._extends({},p),C),{title:_=(s=c.title)===null||s===void 0?void 0:s.call(c,T),icon:$=(i=c.icon)===null||i===void 0?void 0:i.call(c,T),switcherIcon:x=(d=c.switcherIcon)===null||d===void 0?void 0:d.call(c,T)}=p,R=gn(p,["title","icon","switcherIcon"]),F=(v=c.default)===null||v===void 0?void 0:v.call(c),I=r._extends(r._extends(r._extends({},R),{title:_,icon:$,switcherIcon:x,key:f,isLeaf:w}),C),L=t(F);return L.length&&(I.children=L),I})}return t(e)}function bn(e,t,n){const{_title:a,key:l,children:s}=tt(n),i=new Set(t===!0?[]:t),d=[];function v(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return c.map((p,w)=>{const S=It(f?f.pos:"0",w),K=He(p[l],S);let m;for(let C=0;C<a.length;C+=1){const T=a[C];if(p[T]!==void 0){m=p[T];break}}const k=r._extends(r._extends({},je.omit(p,[...a,l,s])),{title:m,key:K,parent:f,pos:S,children:null,data:p,isStart:[...f?f.isStart:[],w===0],isEnd:[...f?f.isEnd:[],w===c.length-1]});return d.push(k),t===!0||i.has(K)?k.children=v(p[s]||[],k):k.children=[],k})}return v(e),d}function wn(e,t,n){let a={};typeof n=="object"?a=n:a={externalGetKey:n},a=a||{};const{childrenPropName:l,externalGetKey:s,fieldNames:i}=a,{key:d,children:v}=tt(i),c=l||v;let f;s?typeof s=="string"?f=w=>w[s]:typeof s=="function"&&(f=w=>s(w)):f=(w,S)=>He(w[d],S);function p(w,S,K,m){const k=w?w[c]:e,C=w?It(K.pos,S):"0",T=w?[...m,w]:[];if(w){const _=f(w,C),$={node:w,index:S,pos:C,key:_,parentPos:K.node?K.pos:null,level:K.level+1,nodes:T};t($)}k&&k.forEach((_,$)=>{p(_,$,{node:w,pos:C,level:K?K.level+1:-1},T)})}p(null)}function Vt(e){let{initWrapper:t,processEntity:n,onProcessFinished:a,externalGetKey:l,childrenPropName:s,fieldNames:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0;const v=l||d,c={},f={};let p={posEntities:c,keyEntities:f};return t&&(p=t(p)||p),wn(e,w=>{const{node:S,index:K,pos:m,key:k,parentPos:C,level:T,nodes:_}=w,$={node:S,nodes:_,index:K,key:k,pos:m,level:T},x=He(k,m);c[m]=$,f[x]=$,$.parent=c[C],$.parent&&($.parent.children=$.parent.children||[],$.parent.children.push($)),n&&n($,p)},{externalGetKey:v,childrenPropName:s,fieldNames:i}),a&&a(p),p}function We(e,t){let{expandedKeysSet:n,selectedKeysSet:a,loadedKeysSet:l,loadingKeysSet:s,checkedKeysSet:i,halfCheckedKeysSet:d,dragOverNodeKey:v,dropPosition:c,keyEntities:f}=t;const p=f[e];return{eventKey:e,expanded:n.has(e),selected:a.has(e),loaded:l.has(e),loading:s.has(e),checked:i.has(e),halfChecked:d.has(e),pos:String(p?p.pos:""),parent:p.parent,dragOver:v===e&&c===0,dragOverGapTop:v===e&&c===-1,dragOverGapBottom:v===e&&c===1}}function ze(e){const{data:t,expanded:n,selected:a,checked:l,loaded:s,loading:i,halfChecked:d,dragOver:v,dragOverGapTop:c,dragOverGapBottom:f,pos:p,active:w,eventKey:S}=e,K=r._extends(r._extends({dataRef:t},t),{expanded:n,selected:a,checked:l,loaded:s,loading:i,halfChecked:d,dragOver:v,dragOverGapTop:c,dragOverGapBottom:f,pos:p,active:w,eventKey:S,key:S});return"props"in K||Object.defineProperty(K,"props",{get(){return r.warning$1(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),K}function Lt(e,t){const n=new Set;return e.forEach(a=>{t.has(a)||n.add(a)}),n}function Sn(e){const{disabled:t,disableCheckbox:n,checkable:a}=e||{};return!!(t||n)||a===!1}function xn(e,t,n,a){const l=new Set(e),s=new Set;for(let d=0;d<=n;d+=1)(t.get(d)||new Set).forEach(c=>{const{key:f,node:p,children:w=[]}=c;l.has(f)&&!a(p)&&w.filter(S=>!a(S.node)).forEach(S=>{l.add(S.key)})});const i=new Set;for(let d=n;d>=0;d-=1)(t.get(d)||new Set).forEach(c=>{const{parent:f,node:p}=c;if(a(p)||!c.parent||i.has(c.parent.key))return;if(a(c.parent.node)){i.add(f.key);return}let w=!0,S=!1;(f.children||[]).filter(K=>!a(K.node)).forEach(K=>{let{key:m}=K;const k=l.has(m);w&&!k&&(w=!1),!S&&(k||s.has(m))&&(S=!0)}),w&&l.add(f.key),S&&s.add(f.key),i.add(f.key)});return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(Lt(s,l))}}function Cn(e,t,n,a,l){const s=new Set(e);let i=new Set(t);for(let v=0;v<=a;v+=1)(n.get(v)||new Set).forEach(f=>{const{key:p,node:w,children:S=[]}=f;!s.has(p)&&!i.has(p)&&!l(w)&&S.filter(K=>!l(K.node)).forEach(K=>{s.delete(K.key)})});i=new Set;const d=new Set;for(let v=a;v>=0;v-=1)(n.get(v)||new Set).forEach(f=>{const{parent:p,node:w}=f;if(l(w)||!f.parent||d.has(f.parent.key))return;if(l(f.parent.node)){d.add(p.key);return}let S=!0,K=!1;(p.children||[]).filter(m=>!l(m.node)).forEach(m=>{let{key:k}=m;const C=s.has(k);S&&!C&&(S=!1),!K&&(C||i.has(k))&&(K=!0)}),S||s.delete(p.key),K&&i.add(p.key),d.add(p.key)});return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(Lt(i,s))}}function Re(e,t,n,a,l,s){const i=[];let d;d=Sn;const v=new Set(e.filter(f=>{const p=!!n[f];return p||i.push(f),p}));r.note(!i.length,`Tree missing follow keys: ${i.slice(0,100).map(f=>`'${f}'`).join(", ")}`);let c;return t===!0?c=xn(v,l,a,d):c=Cn(v,t.halfCheckedKeys,l,a,d),c}function At(e){const t=o.ref(0),n=o.shallowRef();return o.watchEffect(()=>{const a=new Map;let l=0;const s=e.value||{};for(const i in s)if(Object.prototype.hasOwnProperty.call(s,i)){const d=s[i],{level:v}=d;let c=a.get(v);c||(c=new Set,a.set(v,c)),c.add(d),l=Math.max(l,v)}t.value=l,n.value=a}),{maxLevel:t,levelEntities:n}}var pt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n};const kn=o.defineComponent({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:r._extends(r._extends({},$t),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,t){let{attrs:n,slots:a}=t;const l=o.shallowRef(!0),s=Ze(),i=o.shallowRef(!1),d=o.computed(()=>e.motion?e.motion:r.collapseMotion()),v=(c,f)=>{var p,w,S,K;f==="appear"?(w=(p=d.value)===null||p===void 0?void 0:p.onAfterEnter)===null||w===void 0||w.call(p,c):f==="leave"&&((K=(S=d.value)===null||S===void 0?void 0:S.onAfterLeave)===null||K===void 0||K.call(S,c)),i.value||e.onMotionEnd(),i.value=!0};return o.watch(()=>e.motionNodes,()=>{e.motionNodes&&e.motionType==="hide"&&l.value&&o.nextTick(()=>{l.value=!1})},{immediate:!0,flush:"post"}),o.onMounted(()=>{e.motionNodes&&e.onMotionStart()}),o.onBeforeUnmount(()=>{e.motionNodes&&v()}),()=>{const{motion:c,motionNodes:f,motionType:p,active:w,eventKey:S}=e,K=pt(e,["motion","motionNodes","motionType","active","eventKey"]);return f?o.createVNode(o.Transition,r._objectSpread2(r._objectSpread2({},d.value),{},{appear:p==="show",onAfterAppear:m=>v(m,"appear"),onAfterLeave:m=>v(m,"leave")}),{default:()=>[o.withDirectives(o.createVNode("div",{class:`${s.value.prefixCls}-treenode-motion`},[f.map(m=>{const k=pt(m.data,[]),{title:C,key:T,isStart:_,isEnd:$}=m;return delete k.children,o.createVNode(ut,r._objectSpread2(r._objectSpread2({},k),{},{title:C,active:w,data:m.data,key:T,eventKey:T,isStart:_,isEnd:$}),a)})]),[[o.vShow,l.value]])]}):o.createVNode(ut,r._objectSpread2(r._objectSpread2({class:n.class,style:n.style},K),{},{active:w,eventKey:S}),a)}}});function Kn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=e.length,a=t.length;if(Math.abs(n-a)!==1)return{add:!1,key:null};function l(s,i){const d=new Map;s.forEach(c=>{d.set(c,!0)});const v=i.filter(c=>!d.has(c));return v.length===1?v[0]:null}return n<a?{add:!0,key:l(e,t)}:{add:!1,key:l(t,e)}}function yt(e,t,n){const a=e.findIndex(i=>i.key===n),l=e[a+1],s=t.findIndex(i=>i.key===n);if(l){const i=t.findIndex(d=>d.key===l.key);return t.slice(s+1,i)}return t.slice(s+1)}var gt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n};const mt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Nn=()=>{},Ae=`RC_TREE_MOTION_${Math.random()}`,Xe={key:Ae},Rt={key:Ae,level:0,index:0,pos:"0",node:Xe,nodes:[Xe]},bt={parent:null,children:[],pos:Rt.pos,data:Xe,title:null,key:Ae,isStart:[],isEnd:[]};function wt(e,t,n,a){return t===!1||!n?e:e.slice(0,Math.ceil(n/a)+1)}function St(e){const{key:t,pos:n}=e;return He(t,n)}function En(e){let t=String(e.key),n=e;for(;n.parent;)n=n.parent,t=`${n.key} > ${t}`;return t}const On=o.defineComponent({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:cn,setup(e,t){let{expose:n,attrs:a}=t;const l=o.ref(),s=o.ref(),{expandedKeys:i,flattenNodes:d}=Tt();n({scrollTo:m=>{l.value.scrollTo(m)},getIndentWidth:()=>s.value.offsetWidth});const v=o.shallowRef(d.value),c=o.shallowRef([]),f=o.ref(null);function p(){v.value=d.value,c.value=[],f.value=null,e.onListChangeEnd()}const w=Ze();o.watch([()=>i.value.slice(),d],(m,k)=>{let[C,T]=m,[_,$]=k;const x=Kn(_,C);if(x.key!==null){const{virtual:R,height:F,itemHeight:I}=e;if(x.add){const L=$.findIndex(te=>{let{key:ne}=te;return ne===x.key}),J=wt(yt($,T,x.key),R,F,I),X=$.slice();X.splice(L+1,0,bt),v.value=X,c.value=J,f.value="show"}else{const L=T.findIndex(te=>{let{key:ne}=te;return ne===x.key}),J=wt(yt(T,$,x.key),R,F,I),X=T.slice();X.splice(L+1,0,bt),v.value=X,c.value=J,f.value="hide"}}else $!==T&&(v.value=T)}),o.watch(()=>w.value.dragging,m=>{m||p()});const S=o.computed(()=>e.motion===void 0?v.value:d.value),K=()=>{e.onActiveChange(null)};return()=>{const m=r._extends(r._extends({},e),a),{prefixCls:k,selectable:C,checkable:T,disabled:_,motion:$,height:x,itemHeight:R,virtual:F,focusable:I,activeItem:L,focused:J,tabindex:X,onKeydown:te,onFocus:ne,onBlur:se,onListChangeStart:le,onListChangeEnd:ve}=m,re=gt(m,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return o.createVNode(o.Fragment,null,[J&&L&&o.createVNode("span",{style:mt,"aria-live":"assertive"},[En(L)]),o.createVNode("div",null,[o.createVNode("input",{style:mt,disabled:I===!1||_,tabindex:I!==!1?X:null,onKeydown:te,onFocus:ne,onBlur:se,value:"",onChange:Nn,"aria-label":"for screen reader"},null)]),o.createVNode("div",{class:`${k}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[o.createVNode("div",{class:`${k}-indent`},[o.createVNode("div",{ref:s,class:`${k}-indent-unit`},null)])]),o.createVNode(me.List,r._objectSpread2(r._objectSpread2({},je.omit(re,["onActiveChange"])),{},{data:S.value,itemKey:St,height:x,fullHeight:!1,virtual:F,itemHeight:R,prefixCls:`${k}-list`,ref:l,onVisibleChange:(Y,ie)=>{const Q=new Set(Y);ie.filter(ae=>!Q.has(ae)).some(ae=>St(ae)===Ae)&&p()}}),{default:Y=>{const{pos:ie}=Y,Q=gt(Y.data,[]),{title:oe,key:ae,isStart:de,isEnd:H}=Y,ee=He(ae,ie);return delete Q.key,delete Q.children,o.createVNode(kn,r._objectSpread2(r._objectSpread2({},Q),{},{eventKey:ee,title:oe,active:!!L&&ae===L.key,data:Y.data,isStart:de,isEnd:H,motion:$,motionNodes:ae===Ae?c.value:null,motionType:f.value,onMotionStart:le,onMotionEnd:p,onMousemove:K}),null)}})])}}});function Pn(e){let{dropPosition:t,dropLevelOffset:n,indent:a}=e;const l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(t){case-1:l.top=0,l.left=`${-n*a}px`;break;case 1:l.bottom=0,l.left=`${-n*a}px`;break;case 0:l.bottom=0,l.left=`${a}`;break}return o.createVNode("div",{style:l},null)}const Dn=10,_n=o.defineComponent({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:r.initDefaultProps(dn(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Pn,allowDrop:()=>!0}),setup(e,t){let{attrs:n,slots:a,expose:l}=t;const s=o.shallowRef(!1);let i={};const d=o.shallowRef(),v=o.shallowRef([]),c=o.shallowRef([]),f=o.shallowRef([]),p=o.shallowRef([]),w=o.shallowRef([]),S=o.shallowRef([]),K={},m=o.reactive({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),k=o.shallowRef([]);o.watch([()=>e.treeData,()=>e.children],()=>{k.value=e.treeData!==void 0?o.toRaw(e.treeData).slice():mn(o.toRaw(e.children))},{immediate:!0,deep:!0});const C=o.shallowRef({}),T=o.shallowRef(!1),_=o.shallowRef(null),$=o.shallowRef(!1),x=o.computed(()=>tt(e.fieldNames)),R=o.shallowRef();let F=null,I=null,L=null;const J=o.computed(()=>({expandedKeysSet:X.value,selectedKeysSet:te.value,loadedKeysSet:ne.value,loadingKeysSet:se.value,checkedKeysSet:le.value,halfCheckedKeysSet:ve.value,dragOverNodeKey:m.dragOverNodeKey,dropPosition:m.dropPosition,keyEntities:C.value})),X=o.computed(()=>new Set(S.value)),te=o.computed(()=>new Set(v.value)),ne=o.computed(()=>new Set(p.value)),se=o.computed(()=>new Set(w.value)),le=o.computed(()=>new Set(c.value)),ve=o.computed(()=>new Set(f.value));o.watchEffect(()=>{if(k.value){const h=Vt(k.value,{fieldNames:x.value});C.value=r._extends({[Ae]:Rt},h.keyEntities)}});let re=!1;o.watch([()=>e.expandedKeys,()=>e.autoExpandParent,C],(h,y)=>{let[b,N]=h,[V,D]=y,E=S.value;if(e.expandedKeys!==void 0||re&&N!==D)E=e.autoExpandParent||!re&&e.defaultExpandParent?ht(e.expandedKeys,C.value):e.expandedKeys;else if(!re&&e.defaultExpandAll){const M=r._extends({},C.value);delete M[Ae],E=Object.keys(M).map(q=>M[q].key)}else!re&&e.defaultExpandedKeys&&(E=e.autoExpandParent||e.defaultExpandParent?ht(e.defaultExpandedKeys,C.value):e.defaultExpandedKeys);E&&(S.value=E),re=!0},{immediate:!0});const Y=o.shallowRef([]);o.watchEffect(()=>{Y.value=bn(k.value,S.value,x.value)}),o.watchEffect(()=>{e.selectable&&(e.selectedKeys!==void 0?v.value=vt(e.selectedKeys,e):!re&&e.defaultSelectedKeys&&(v.value=vt(e.defaultSelectedKeys,e)))});const{maxLevel:ie,levelEntities:Q}=At(C);o.watchEffect(()=>{if(e.checkable){let h;if(e.checkedKeys!==void 0?h=Ue(e.checkedKeys)||{}:!re&&e.defaultCheckedKeys?h=Ue(e.defaultCheckedKeys)||{}:k.value&&(h=Ue(e.checkedKeys)||{checkedKeys:c.value,halfCheckedKeys:f.value}),h){let{checkedKeys:y=[],halfCheckedKeys:b=[]}=h;e.checkStrictly||({checkedKeys:y,halfCheckedKeys:b}=Re(y,!0,C.value,ie.value,Q.value)),c.value=y,f.value=b}}}),o.watchEffect(()=>{e.loadedKeys&&(p.value=e.loadedKeys)});const oe=()=>{r._extends(m,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ae=h=>{R.value.scrollTo(h)};o.watch(()=>e.activeKey,()=>{e.activeKey!==void 0&&(_.value=e.activeKey)},{immediate:!0}),o.watch(_,h=>{o.nextTick(()=>{h!==null&&ae({key:h})})},{immediate:!0,flush:"post"});const de=h=>{e.expandedKeys===void 0&&(S.value=h)},H=()=>{m.draggingNodeKey!==null&&r._extends(m,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),F=null,L=null},ee=(h,y)=>{const{onDragend:b}=e;m.dragOverNodeKey=null,H(),b==null||b({event:h,node:y.eventData}),I=null},ce=h=>{ee(h,null),window.removeEventListener("dragend",ce)},pe=(h,y)=>{const{onDragstart:b}=e,{eventKey:N,eventData:V}=y;I=y,F={x:h.clientX,y:h.clientY};const D=xe(S.value,N);m.draggingNodeKey=N,m.dragChildrenKeys=hn(N,C.value),d.value=R.value.getIndentWidth(),de(D),window.addEventListener("dragend",ce),b&&b({event:h,node:V})},De=(h,y)=>{const{onDragenter:b,onExpand:N,allowDrop:V,direction:D}=e,{pos:E,eventKey:M}=y;if(L!==M&&(L=M),!I){oe();return}const{dropPosition:q,dropLevelOffset:B,dropTargetKey:U,dropContainerKey:G,dropTargetPos:ue,dropAllowed:ye,dragOverNodeKey:ge}=ft(h,I,y,d.value,F,V,Y.value,C.value,X.value,D);if(m.dragChildrenKeys.indexOf(U)!==-1||!ye){oe();return}if(i||(i={}),Object.keys(i).forEach(fe=>{clearTimeout(i[fe])}),I.eventKey!==y.eventKey&&(i[E]=window.setTimeout(()=>{if(m.draggingNodeKey===null)return;let fe=S.value.slice();const Oe=C.value[y.eventKey];Oe&&(Oe.children||[]).length&&(fe=Pe(S.value,y.eventKey)),de(fe),N&&N(fe,{node:y.eventData,expanded:!0,nativeEvent:h})},800)),I.eventKey===U&&B===0){oe();return}r._extends(m,{dragOverNodeKey:ge,dropPosition:q,dropLevelOffset:B,dropTargetKey:U,dropContainerKey:G,dropTargetPos:ue,dropAllowed:ye}),b&&b({event:h,node:y.eventData,expandedKeys:S.value})},_e=(h,y)=>{const{onDragover:b,allowDrop:N,direction:V}=e;if(!I)return;const{dropPosition:D,dropLevelOffset:E,dropTargetKey:M,dropContainerKey:q,dropAllowed:B,dropTargetPos:U,dragOverNodeKey:G}=ft(h,I,y,d.value,F,N,Y.value,C.value,X.value,V);m.dragChildrenKeys.indexOf(M)!==-1||!B||(I.eventKey===M&&E===0?m.dropPosition===null&&m.dropLevelOffset===null&&m.dropTargetKey===null&&m.dropContainerKey===null&&m.dropTargetPos===null&&m.dropAllowed===!1&&m.dragOverNodeKey===null||oe():D===m.dropPosition&&E===m.dropLevelOffset&&M===m.dropTargetKey&&q===m.dropContainerKey&&U===m.dropTargetPos&&B===m.dropAllowed&&G===m.dragOverNodeKey||r._extends(m,{dropPosition:D,dropLevelOffset:E,dropTargetKey:M,dropContainerKey:q,dropTargetPos:U,dropAllowed:B,dragOverNodeKey:G}),b&&b({event:h,node:y.eventData}))},Te=(h,y)=>{L===y.eventKey&&!h.currentTarget.contains(h.relatedTarget)&&(oe(),L=null);const{onDragleave:b}=e;b&&b({event:h,node:y.eventData})},$e=function(h,y){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var N;const{dragChildrenKeys:V,dropPosition:D,dropTargetKey:E,dropTargetPos:M,dropAllowed:q}=m;if(!q)return;const{onDrop:B}=e;if(m.dragOverNodeKey=null,H(),E===null)return;const U=r._extends(r._extends({},We(E,o.toRaw(J.value))),{active:((N=O.value)===null||N===void 0?void 0:N.key)===E,data:C.value[E].node}),G=V.indexOf(E)!==-1;r.warning$1(!G,"Can not drop to dragNode's children node. Maybe this is a bug of ant-design-vue. Please report an issue.");const ue=et(M),ye={event:h,node:ze(U),dragNode:I?I.eventData:null,dragNodesKeys:[I.eventKey].concat(V),dropToGap:D!==0,dropPosition:D+Number(ue[ue.length-1])};b||B==null||B(ye),I=null},Ce=(h,y)=>{const{expanded:b,key:N}=y,V=Y.value.filter(E=>E.key===N)[0],D=ze(r._extends(r._extends({},We(N,J.value)),{data:V.data}));de(b?xe(S.value,N):Pe(S.value,N)),j(h,D)},ke=(h,y)=>{const{onClick:b,expandAction:N}=e;N==="click"&&Ce(h,y),b&&b(h,y)},Ie=(h,y)=>{const{onDblclick:b,expandAction:N}=e;(N==="doubleclick"||N==="dblclick")&&Ce(h,y),b&&b(h,y)},Ke=(h,y)=>{let b=v.value;const{onSelect:N,multiple:V}=e,{selected:D}=y,E=y[x.value.key],M=!D;M?V?b=Pe(b,E):b=[E]:b=xe(b,E);const q=C.value,B=b.map(U=>{const G=q[U];return G?G.node:null}).filter(U=>U);e.selectedKeys===void 0&&(v.value=b),N&&N(b,{event:"select",selected:M,node:y,selectedNodes:B,nativeEvent:h})},Ne=(h,y,b)=>{const{checkStrictly:N,onCheck:V}=e,D=y[x.value.key];let E;const M={event:"check",node:y,checked:b,nativeEvent:h},q=C.value;if(N){const B=b?Pe(c.value,D):xe(c.value,D),U=xe(f.value,D);E={checked:B,halfChecked:U},M.checkedNodes=B.map(G=>q[G]).filter(G=>G).map(G=>G.node),e.checkedKeys===void 0&&(c.value=B)}else{let{checkedKeys:B,halfCheckedKeys:U}=Re([...c.value,D],!0,q,ie.value,Q.value);if(!b){const G=new Set(B);G.delete(D),{checkedKeys:B,halfCheckedKeys:U}=Re(Array.from(G),{checked:!1,halfCheckedKeys:U},q,ie.value,Q.value)}E=B,M.checkedNodes=[],M.checkedNodesPositions=[],M.halfCheckedKeys=U,B.forEach(G=>{const ue=q[G];if(!ue)return;const{node:ye,pos:ge}=ue;M.checkedNodes.push(ye),M.checkedNodesPositions.push({node:ye,pos:ge})}),e.checkedKeys===void 0&&(c.value=B,f.value=U)}V&&V(E,M)},Ee=h=>{const y=h[x.value.key],b=new Promise((N,V)=>{const{loadData:D,onLoad:E}=e;if(!D||ne.value.has(y)||se.value.has(y))return null;D(h).then(()=>{const q=Pe(p.value,y),B=xe(w.value,y);E&&E(q,{event:"load",node:h}),e.loadedKeys===void 0&&(p.value=q),w.value=B,N()}).catch(q=>{const B=xe(w.value,y);if(w.value=B,K[y]=(K[y]||0)+1,K[y]>=Dn){r.warning$1(!1,"Retry for `loadData` many times but still failed. No more retry.");const U=Pe(p.value,y);e.loadedKeys===void 0&&(p.value=U),N()}V(q)}),w.value=Pe(w.value,y)});return b.catch(()=>{}),b},Ve=(h,y)=>{const{onMouseenter:b}=e;b&&b({event:h,node:y})},be=(h,y)=>{const{onMouseleave:b}=e;b&&b({event:h,node:y})},Le=(h,y)=>{const{onRightClick:b}=e;b&&(h.preventDefault(),b({event:h,node:y}))},we=h=>{const{onFocus:y}=e;T.value=!0,y&&y(h)},P=h=>{const{onBlur:y}=e;T.value=!1,g(null),y&&y(h)},j=(h,y)=>{let b=S.value;const{onExpand:N,loadData:V}=e,{expanded:D}=y,E=y[x.value.key];if($.value)return;const M=b.indexOf(E),q=!D;if(r.warning$1(D&&M!==-1||!D&&M===-1,"Expand state not sync with index check"),q?b=Pe(b,E):b=xe(b,E),de(b),N&&N(b,{node:y,expanded:q,nativeEvent:h}),q&&V){const B=Ee(y);B&&B.then(()=>{}).catch(U=>{const G=xe(S.value,E);de(G),Promise.reject(U)})}},W=()=>{$.value=!0},u=()=>{setTimeout(()=>{$.value=!1})},g=h=>{const{onActiveChange:y}=e;_.value!==h&&(e.activeKey!==void 0&&(_.value=h),h!==null&&ae({key:h}),y&&y(h))},O=o.computed(()=>_.value===null?null:Y.value.find(h=>{let{key:y}=h;return y===_.value})||null),A=h=>{let y=Y.value.findIndex(N=>{let{key:V}=N;return V===_.value});y===-1&&h<0&&(y=Y.value.length),y=(y+h+Y.value.length)%Y.value.length;const b=Y.value[y];if(b){const{key:N}=b;g(N)}else g(null)},z=o.computed(()=>ze(r._extends(r._extends({},We(_.value,J.value)),{data:O.value.data,active:!0}))),Z=h=>{const{onKeydown:y,checkable:b,selectable:N}=e;switch(h.which){case he.KeyCode.UP:{A(-1),h.preventDefault();break}case he.KeyCode.DOWN:{A(1),h.preventDefault();break}}const V=O.value;if(V&&V.data){const D=V.data.isLeaf===!1||!!(V.data.children||[]).length,E=z.value;switch(h.which){case he.KeyCode.LEFT:{D&&X.value.has(_.value)?j({},E):V.parent&&g(V.parent.key),h.preventDefault();break}case he.KeyCode.RIGHT:{D&&!X.value.has(_.value)?j({},E):V.children&&V.children.length&&g(V.children[0].key),h.preventDefault();break}case he.KeyCode.ENTER:case he.KeyCode.SPACE:{b&&!E.disabled&&E.checkable!==!1&&!E.disableCheckbox?Ne({},E,!le.value.has(_.value)):!b&&N&&!E.disabled&&E.selectable!==!1&&Ke({},E);break}}}y&&y(h)};return l({onNodeExpand:j,scrollTo:ae,onKeydown:Z,selectedKeys:o.computed(()=>v.value),checkedKeys:o.computed(()=>c.value),halfCheckedKeys:o.computed(()=>f.value),loadedKeys:o.computed(()=>p.value),loadingKeys:o.computed(()=>w.value),expandedKeys:o.computed(()=>S.value)}),o.onUnmounted(()=>{window.removeEventListener("dragend",ce),s.value=!0}),rn({expandedKeys:S,selectedKeys:v,loadedKeys:p,loadingKeys:w,checkedKeys:c,halfCheckedKeys:f,expandedKeysSet:X,selectedKeysSet:te,loadedKeysSet:ne,loadingKeysSet:se,checkedKeysSet:le,halfCheckedKeysSet:ve,flattenNodes:Y}),()=>{const{draggingNodeKey:h,dropLevelOffset:y,dropContainerKey:b,dropTargetKey:N,dropPosition:V,dragOverNodeKey:D}=m,{prefixCls:E,showLine:M,focusable:q,tabindex:B=0,selectable:U,showIcon:G,icon:ue=a.icon,switcherIcon:ye,draggable:ge,checkable:fe,checkStrictly:Oe,disabled:Me,motion:qe,loadData:Ht,filterTreeNode:Wt,height:zt,itemHeight:qt,virtual:Ut,dropIndicatorRender:Gt,onContextmenu:Xt,onScroll:Yt,direction:Jt,rootClassName:Qt,rootStyle:Zt}=e,{class:en,style:tn}=n,nn=Pt.pickAttrs(r._extends(r._extends({},e),n),{aria:!0,data:!0});let Be;return ge?typeof ge=="object"?Be=ge:typeof ge=="function"?Be={nodeDraggable:ge}:Be={}:Be=!1,o.createVNode(ln,{value:{prefixCls:E,selectable:U,showIcon:G,icon:ue,switcherIcon:ye,draggable:Be,draggingNodeKey:h,checkable:fe,customCheckable:a.checkable,checkStrictly:Oe,disabled:Me,keyEntities:C.value,dropLevelOffset:y,dropContainerKey:b,dropTargetKey:N,dropPosition:V,dragOverNodeKey:D,dragging:h!==null,indent:d.value,direction:Jt,dropIndicatorRender:Gt,loadData:Ht,filterTreeNode:Wt,onNodeClick:ke,onNodeDoubleClick:Ie,onNodeExpand:j,onNodeSelect:Ke,onNodeCheck:Ne,onNodeLoad:Ee,onNodeMouseEnter:Ve,onNodeMouseLeave:be,onNodeContextMenu:Le,onNodeDragStart:pe,onNodeDragEnter:De,onNodeDragOver:_e,onNodeDragLeave:Te,onNodeDragEnd:ee,onNodeDrop:$e,slots:a}},{default:()=>[o.createVNode("div",{role:"tree",class:r.classNames(E,en,Qt,{[`${E}-show-line`]:M,[`${E}-focused`]:T.value,[`${E}-active-focused`]:_.value!==null}),style:Zt},[o.createVNode(On,r._objectSpread2({ref:R,prefixCls:E,style:tn,disabled:Me,selectable:U,checkable:!!fe,motion:qe,height:zt,itemHeight:qt,virtual:Ut,focusable:q,focused:T.value,tabindex:B,activeItem:O.value,onFocus:we,onBlur:P,onKeydown:Z,onActiveChange:g,onListChangeStart:W,onListChangeEnd:u,onContextmenu:Xt,onScroll:Yt},nn),null)])]})}}});var Tn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),a.forEach(function(l){$n(e,l,n[l])})}return e}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt=function(t,n){var a=xt({},t,n.attrs);return o.createVNode(r.Icon,xt({},a,{icon:Tn}),null)};nt.displayName="FileOutlined";nt.inheritAttrs=!1;var In={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function Ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),a.forEach(function(l){Vn(e,l,n[l])})}return e}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot=function(t,n){var a=Ct({},t,n.attrs);return o.createVNode(r.Icon,Ct({},a,{icon:In}),null)};ot.displayName="MinusSquareOutlined";ot.inheritAttrs=!1;var Ln={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),a.forEach(function(l){An(e,l,n[l])})}return e}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at=function(t,n){var a=kt({},t,n.attrs);return o.createVNode(r.Icon,kt({},a,{icon:Ln}),null)};at.displayName="PlusSquareOutlined";at.inheritAttrs=!1;var Rn={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function Kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),a.forEach(function(l){jn(e,l,n[l])})}return e}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt=function(t,n){var a=Kt({},t,n.attrs);return o.createVNode(r.Icon,Kt({},a,{icon:Rn}),null)};lt.displayName="CaretDownFilled";lt.inheritAttrs=!1;function Fn(e,t,n,a,l){const{isLeaf:s,expanded:i,loading:d}=n;let v=t;if(d)return o.createVNode(r.LoadingOutlined,{class:`${e}-switcher-loading-icon`},null);let c;l&&typeof l=="object"&&(c=l.showLeafIcon);let f=null;const p=`${e}-switcher-icon`;return s?l?c&&a?a(n):(typeof l=="object"&&!c?f=o.createVNode("span",{class:`${e}-switcher-leaf-line`},null):f=o.createVNode(nt,{class:`${e}-switcher-line-icon`},null),f):null:(f=o.createVNode(lt,{class:p},null),l&&(f=i?o.createVNode(ot,{class:`${e}-switcher-line-icon`},null):o.createVNode(at,{class:`${e}-switcher-line-icon`},null)),typeof t=="function"?v=t(r._extends(r._extends({},n),{defaultIcon:f,switcherCls:p})):r.isValidElement(v)&&(v=o.cloneVNode(v,{class:p})),v||f)}const Mn=new r.Keyframe("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Bn=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Hn=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Wn=(e,t)=>{const{treeCls:n,treeNodeCls:a,treeNodePadding:l,treeTitleHeight:s}=t,i=(s-t.fontSizeLG)/2,d=t.paddingXS;return{[n]:r._extends(r._extends({},r.resetComponent(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:r._extends({},r.genFocusOutline(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${a}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:l,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:Mn,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${a}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${l}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:r._extends({},r.genFocusOutline(t)),[`&:not(${a}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${n}-draggable-icon`]:{width:s,lineHeight:`${s}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${a}:hover &`]:{opacity:.45}},[`&${a}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:s}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:r._extends(r._extends({},Bn(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:s,margin:0,lineHeight:`${s}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-l,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:s/2*.8,height:s/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:d,marginBlockStart:i},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:s,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${s}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:t.controlItemBgHover},[`&${n}-node-selected`]:{backgroundColor:t.controlItemBgActive},[`${n}-iconEle`]:{display:"inline-block",width:s,height:s,lineHeight:`${s}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:r._extends({lineHeight:`${s}px`,userSelect:"none"},Hn(e,t)),[`${a}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-l,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${a}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${s/2}px !important`}}}}})}},zn=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:a}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},[`${t}-switcher`]:{color:e.colorTextLightSolid},[`${t}-node-content-wrapper`]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},qn=(e,t)=>{const n=`.${e}`,a=`${n}-treenode`,l=t.paddingXS/2,s=t.controlHeightSM,i=r.merge(t,{treeCls:n,treeNodeCls:a,treeNodePadding:l,treeTitleHeight:s});return[Wn(e,i),zn(i)]};function jt(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}function Un(e){const{label:t,value:n,children:a}=e||{},l=n||"value";return{_title:t?[t]:["title","label"],value:l,key:l,children:a||"children"}}function Ye(e){return e.disabled||e.disableCheckbox||e.checkable===!1}function Gn(e,t){const n=[];function a(l){l.forEach(s=>{n.push(s[t.value]);const i=s[t.children];i&&a(i)})}return a(e),n}function Je(e){return e==null}const Ft=Symbol("TreeSelectContextPropsKey");function Xn(e){return o.provide(Ft,e)}function Yn(){return o.inject(Ft,{})}const Jn={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Qn=o.defineComponent({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(e,t){let{slots:n,expose:a}=t;const l=me.useBaseProps(),s=me.useInjectLegacySelectContext(),i=Yn(),d=o.ref(),v=on.useMemo(()=>i.treeData,[()=>l.open,()=>i.treeData],x=>x[0]),c=o.computed(()=>{const{checkable:x,halfCheckedKeys:R,checkedKeys:F}=s;return x?{checked:F,halfChecked:R}:null});o.watch(()=>l.open,()=>{o.nextTick(()=>{var x;l.open&&!l.multiple&&s.checkedKeys.length&&((x=d.value)===null||x===void 0||x.scrollTo({key:s.checkedKeys[0]}))})},{immediate:!0,flush:"post"});const f=o.computed(()=>String(l.searchValue).toLowerCase()),p=x=>f.value?String(x[s.treeNodeFilterProp]).toLowerCase().includes(f.value):!1,w=o.shallowRef(s.treeDefaultExpandedKeys),S=o.shallowRef(null);o.watch(()=>l.searchValue,()=>{l.searchValue&&(S.value=Gn(o.toRaw(i.treeData),o.toRaw(i.fieldNames)))},{immediate:!0});const K=o.computed(()=>s.treeExpandedKeys?s.treeExpandedKeys.slice():l.searchValue?S.value:w.value),m=x=>{var R;w.value=x,S.value=x,(R=s.onTreeExpand)===null||R===void 0||R.call(s,x)},k=x=>{x.preventDefault()},C=(x,R)=>{let{node:F}=R;var I,L;const{checkable:J,checkedKeys:X}=s;J&&Ye(F)||((I=i.onSelect)===null||I===void 0||I.call(i,F.key,{selected:!X.includes(F.key)}),l.multiple||(L=l.toggleOpen)===null||L===void 0||L.call(l,!1))},T=o.ref(null),_=o.computed(()=>s.keyEntities[T.value]),$=x=>{T.value=x};return a({scrollTo:function(){for(var x,R,F=arguments.length,I=new Array(F),L=0;L<F;L++)I[L]=arguments[L];return(R=(x=d.value)===null||x===void 0?void 0:x.scrollTo)===null||R===void 0?void 0:R.call(x,...I)},onKeydown:x=>{var R;const{which:F}=x;switch(F){case he.KeyCode.UP:case he.KeyCode.DOWN:case he.KeyCode.LEFT:case he.KeyCode.RIGHT:(R=d.value)===null||R===void 0||R.onKeydown(x);break;case he.KeyCode.ENTER:{if(_.value){const{selectable:I,value:L}=_.value.node||{};I!==!1&&C(null,{node:{key:T.value},selected:!s.checkedKeys.includes(L)})}break}case he.KeyCode.ESC:l.toggleOpen(!1)}},onKeyup:()=>{}}),()=>{var x;const{prefixCls:R,multiple:F,searchValue:I,open:L,notFoundContent:J=(x=n.notFoundContent)===null||x===void 0?void 0:x.call(n)}=l,{listHeight:X,listItemHeight:te,virtual:ne,dropdownMatchSelectWidth:se,treeExpandAction:le}=i,{checkable:ve,treeDefaultExpandAll:re,treeIcon:Y,showTreeIcon:ie,switcherIcon:Q,treeLine:oe,loadData:ae,treeLoadedKeys:de,treeMotion:H,onTreeLoad:ee,checkedKeys:ce}=s;if(v.value.length===0)return o.createVNode("div",{role:"listbox",class:`${R}-empty`,onMousedown:k},[J]);const pe={fieldNames:i.fieldNames};return de&&(pe.loadedKeys=de),K.value&&(pe.expandedKeys=K.value),o.createVNode("div",{onMousedown:k},[_.value&&L&&o.createVNode("span",{style:Jn,"aria-live":"assertive"},[_.value.node.value]),o.createVNode(_n,r._objectSpread2(r._objectSpread2({ref:d,focusable:!1,prefixCls:`${R}-tree`,treeData:v.value,height:X,itemHeight:te,virtual:ne!==!1&&se!==!1,multiple:F,icon:Y,showIcon:ie,switcherIcon:Q,showLine:oe,loadData:I?null:ae,motion:H,activeKey:T.value,checkable:ve,checkStrictly:!0,checkedKeys:c.value,selectedKeys:ve?[]:ce,defaultExpandAll:re},pe),{},{onActiveChange:$,onSelect:C,onCheck:C,onExpand:m,onLoad:ee,filterTreeNode:p,expandAction:le}),r._extends(r._extends({},n),{checkable:s.customSlots.treeCheckable}))])}}}),Zn="SHOW_ALL",Mt="SHOW_PARENT",rt="SHOW_CHILD";function Nt(e,t,n,a){const l=new Set(e);return t===rt?e.filter(s=>{const i=n[s];return!(i&&i.children&&i.children.some(d=>{let{node:v}=d;return l.has(v[a.value])})&&i.children.every(d=>{let{node:v}=d;return Ye(v)||l.has(v[a.value])}))}):t===Mt?e.filter(s=>{const i=n[s],d=i?i.parent:null;return!(d&&!Ye(d.node)&&l.has(d.key))}):e}const Fe=()=>null;Fe.inheritAttrs=!1;Fe.displayName="ATreeSelectNode";Fe.isTreeSelectNode=!0;var eo=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n};function to(e){return e&&e.type&&e.type.isTreeSelectNode}function no(e){function t(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return r.filterEmpty(n).map(a=>{var l,s,i;if(!to(a))return r.warning$1(!a,"TreeSelect/TreeSelectNode can only accept TreeSelectNode as children."),null;const d=a.children||{},v=a.key,c={};for(const[F,I]of Object.entries(a.props))c[r.camelize(F)]=I;const{isLeaf:f,checkable:p,selectable:w,disabled:S,disableCheckbox:K}=c,m={isLeaf:f||f===""||void 0,checkable:p||p===""||void 0,selectable:w||w===""||void 0,disabled:S||S===""||void 0,disableCheckbox:K||K===""||void 0},k=r._extends(r._extends({},c),m),{title:C=(l=d.title)===null||l===void 0?void 0:l.call(d,k),switcherIcon:T=(s=d.switcherIcon)===null||s===void 0?void 0:s.call(d,k)}=c,_=eo(c,["title","switcherIcon"]),$=(i=d.default)===null||i===void 0?void 0:i.call(d),x=r._extends(r._extends(r._extends({},_),{title:C,switcherIcon:T,key:v,isLeaf:f}),m),R=t($);return R.length&&(x.children=R),x})}return t(e)}function Qe(e){if(!e)return e;const t=r._extends({},e);return"props"in t||Object.defineProperty(t,"props",{get(){return r.warning$1(!1,"New `vc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function oo(e,t,n,a,l,s){let i=null,d=null;function v(){function c(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return f.map((S,K)=>{const m=`${p}-${K}`,k=S[s.value],C=n.includes(k),T=c(S[s.children]||[],m,C),_=o.createVNode(Fe,S,{default:()=>[T.map($=>$.node)]});if(t===k&&(i=_),C){const $={pos:m,node:_,children:T};return w||d.push($),$}return null}).filter(S=>S)}d||(d=[],c(a),d.sort((f,p)=>{let{node:{props:{value:w}}}=f,{node:{props:{value:S}}}=p;const K=n.indexOf(w),m=n.indexOf(S);return K-m}))}Object.defineProperty(e,"triggerNode",{get(){return r.warning$1(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),v(),i}}),Object.defineProperty(e,"allCheckedNodes",{get(){return r.warning$1(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),v(),l?d:d.map(c=>{let{node:f}=c;return f})}})}function ao(e,t){let{id:n,pId:a,rootPId:l}=t;const s={},i=[];return e.map(v=>{const c=r._extends({},v),f=c[n];return s[f]=c,c.key=c.key||f,c}).forEach(v=>{const c=v[a],f=s[c];f&&(f.children=f.children||[],f.children.push(v)),(c===l||!f&&l===null)&&i.push(v)}),i}function lo(e,t,n){const a=o.shallowRef();return o.watch([n,e,t],()=>{const l=n.value;e.value?a.value=n.value?ao(o.toRaw(e.value),r._extends({id:"id",pId:"pId",rootPId:null},l!==!0?l:{})):o.toRaw(e.value).slice():a.value=no(o.toRaw(t.value))},{immediate:!0,deep:!0}),a}const ro=e=>{const t=o.shallowRef({valueLabels:new Map}),n=o.shallowRef();return o.watch(e,()=>{n.value=o.toRaw(e.value)},{immediate:!0}),[o.computed(()=>{const{valueLabels:l}=t.value,s=new Map,i=n.value.map(d=>{var v;const{value:c}=d,f=(v=d.label)!==null&&v!==void 0?v:l.get(c);return s.set(c,f),r._extends(r._extends({},d),{label:f})});return t.value.valueLabels=s,i})]},io=(e,t)=>{const n=o.shallowRef(new Map),a=o.shallowRef({});return o.watchEffect(()=>{const l=t.value,s=Vt(e.value,{fieldNames:l,initWrapper:i=>r._extends(r._extends({},i),{valueEntities:new Map}),processEntity:(i,d)=>{const v=i.node[l.value];if(process.env.NODE_ENV!=="production"){const c=i.node.key;r.warning$1(!Je(v),"TreeNode `value` is invalidate: undefined"),r.warning$1(!d.valueEntities.has(v),`Same \`value\` exist in the tree: ${v}`),r.warning$1(!c||String(c)===String(v),`\`key\` or \`value\` with TreeNode must be the same or you can remove one of them. key: ${c}, value: ${v}.`)}d.valueEntities.set(v,i)}});n.value=s.valueEntities,a.value=s.keyEntities}),{valueEntities:n,keyEntities:a}},so=(e,t,n,a,l,s)=>{const i=o.shallowRef([]),d=o.shallowRef([]);return o.watchEffect(()=>{let v=e.value.map(p=>{let{value:w}=p;return w}),c=t.value.map(p=>{let{value:w}=p;return w});const f=v.filter(p=>!a.value[p]);n.value&&({checkedKeys:v,halfCheckedKeys:c}=Re(v,!0,a.value,l.value,s.value)),i.value=Array.from(new Set([...f,...v])),d.value=c}),[i,d]},co=(e,t,n)=>{let{treeNodeFilterProp:a,filterTreeNode:l,fieldNames:s}=n;return o.computed(()=>{const{children:i}=s.value,d=t.value,v=a==null?void 0:a.value;if(!d||l.value===!1)return e.value;let c;if(typeof l.value=="function")c=l.value;else{const p=d.toUpperCase();c=(w,S)=>{const K=S[v];return String(K).toUpperCase().includes(p)}}function f(p){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const S=[];for(let K=0,m=p.length;K<m;K++){const k=p[K],C=k[i],T=w||c(d,Qe(k)),_=f(C||[],T);(T||_.length)&&S.push(r._extends(r._extends({},k),{[i]:_}))}return S}return f(e.value)})};function uo(e){const{searchPlaceholder:t,treeCheckStrictly:n,treeCheckable:a,labelInValue:l,value:s,multiple:i}=e;r.warning$1(!t,"`searchPlaceholder` has been removed, please use `placeholder` instead"),n&&l===!1&&r.warning$1(!1,"`treeCheckStrictly` will force set `labelInValue` to `true`."),(l||n)&&r.warning$1(jt(s).every(d=>d&&typeof d=="object"&&"value"in d),"Invalid prop `value` supplied to `TreeSelect`. You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead."),n||i||a?r.warning$1(!s||Array.isArray(s),"`value` should be an array when `TreeSelect` is checkable or multiple."):r.warning$1(!Array.isArray(s),"`value` should not be array when `TreeSelect` is single mode.")}function Bt(){return r._extends(r._extends({},je.omit(me.baseSelectPropsWithoutPrivate(),["mode"])),{prefixCls:String,id:String,value:{type:[String,Number,Object,Array]},defaultValue:{type:[String,Number,Object,Array]},onChange:{type:Function},searchValue:String,inputValue:String,onSearch:{type:Function},autoClearSearchValue:{type:Boolean,default:void 0},filterTreeNode:{type:[Boolean,Function],default:void 0},treeNodeFilterProp:String,onSelect:Function,onDeselect:Function,showCheckedStrategy:{type:String},treeNodeLabelProp:String,fieldNames:{type:Object},multiple:{type:Boolean,default:void 0},treeCheckable:{type:Boolean,default:void 0},treeCheckStrictly:{type:Boolean,default:void 0},labelInValue:{type:Boolean,default:void 0},treeData:{type:Array},treeDataSimpleMode:{type:[Boolean,Object],default:void 0},loadData:{type:Function},treeLoadedKeys:{type:Array},onTreeLoad:{type:Function},treeDefaultExpandAll:{type:Boolean,default:void 0},treeExpandedKeys:{type:Array},treeDefaultExpandedKeys:{type:Array},onTreeExpand:{type:Function},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,onDropdownVisibleChange:{type:Function},treeLine:{type:[Boolean,Object],default:void 0},treeIcon:r.PropTypes.any,showTreeIcon:{type:Boolean,default:void 0},switcherIcon:r.PropTypes.any,treeMotion:r.PropTypes.any,children:Array,treeExpandAction:String,showArrow:{type:Boolean,default:void 0},showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},placeholder:r.PropTypes.any,maxTagPlaceholder:{type:Function},dropdownPopupAlign:r.PropTypes.any,customSlots:Object})}function fo(e){return!e||typeof e!="object"}const vo=o.defineComponent({compatConfig:{MODE:3},name:"TreeSelect",inheritAttrs:!1,props:r.initDefaultProps(Bt(),{treeNodeFilterProp:"value",autoClearSearchValue:!0,showCheckedStrategy:rt,listHeight:200,listItemHeight:20,prefixCls:"vc-tree-select"}),setup(e,t){let{attrs:n,expose:a,slots:l}=t;const s=me.useId(o.toRef(e,"id")),i=o.computed(()=>e.treeCheckable&&!e.treeCheckStrictly),d=o.computed(()=>e.treeCheckable||e.treeCheckStrictly),v=o.computed(()=>e.treeCheckStrictly||e.labelInValue),c=o.computed(()=>d.value||e.multiple);process.env.NODE_ENV!=="production"&&o.watchEffect(()=>{uo(e)});const f=o.computed(()=>Un(e.fieldNames)),[p,w]=it.useMergedState("",{value:o.computed(()=>e.searchValue!==void 0?e.searchValue:e.inputValue),postState:P=>P||""}),S=P=>{var j;w(P),(j=e.onSearch)===null||j===void 0||j.call(e,P)},K=lo(o.toRef(e,"treeData"),o.toRef(e,"children"),o.toRef(e,"treeDataSimpleMode")),{keyEntities:m,valueEntities:k}=io(K,f),C=P=>{const j=[],W=[];return P.forEach(u=>{k.value.has(u)?W.push(u):j.push(u)}),{missingRawValues:j,existRawValues:W}},T=co(K,p,{fieldNames:f,treeNodeFilterProp:o.toRef(e,"treeNodeFilterProp"),filterTreeNode:o.toRef(e,"filterTreeNode")}),_=P=>{if(P){if(e.treeNodeLabelProp)return P[e.treeNodeLabelProp];const{_title:j}=f.value;for(let W=0;W<j.length;W+=1){const u=P[j[W]];if(u!==void 0)return u}}},$=P=>jt(P).map(W=>fo(W)?{value:W}:W),x=P=>$(P).map(W=>{let{label:u}=W;const{value:g,halfChecked:O}=W;let A;const z=k.value.get(g);return z&&(u=u??_(z.node),A=z.node.disabled),{label:u,value:g,halfChecked:O,disabled:A}}),[R,F]=it.useMergedState(e.defaultValue,{value:o.toRef(e,"value")}),I=o.computed(()=>$(R.value)),L=o.shallowRef([]),J=o.shallowRef([]);o.watchEffect(()=>{const P=[],j=[];I.value.forEach(W=>{W.halfChecked?j.push(W):P.push(W)}),L.value=P,J.value=j});const X=o.computed(()=>L.value.map(P=>P.value)),{maxLevel:te,levelEntities:ne}=At(m),[se,le]=so(L,J,i,m,te,ne),ve=o.computed(()=>{const W=Nt(se.value,e.showCheckedStrategy,m.value,f.value).map(O=>{var A,z,Z;return(Z=(z=(A=m.value[O])===null||A===void 0?void 0:A.node)===null||z===void 0?void 0:z[f.value.value])!==null&&Z!==void 0?Z:O}).map(O=>{const A=L.value.find(z=>z.value===O);return{value:O,label:A==null?void 0:A.label}}),u=x(W),g=u[0];return!c.value&&g&&Je(g.value)&&Je(g.label)?[]:u.map(O=>{var A;return r._extends(r._extends({},O),{label:(A=O.label)!==null&&A!==void 0?A:O.value})})}),[re]=ro(ve),Y=(P,j,W)=>{const u=x(P);if(F(u),e.autoClearSearchValue&&w(""),e.onChange){let g=P;i.value&&(g=Nt(P,e.showCheckedStrategy,m.value,f.value).map(V=>{const D=k.value.get(V);return D?D.node[f.value.value]:V}));const{triggerValue:O,selected:A}=j||{triggerValue:void 0,selected:void 0};let z=g;if(e.treeCheckStrictly){const N=J.value.filter(V=>!g.includes(V.value));z=[...z,...N]}const Z=x(z),h={preValue:L.value,triggerValue:O};let y=!0;(e.treeCheckStrictly||W==="selection"&&!A)&&(y=!1),oo(h,O,P,K.value,y,f.value),d.value?h.checked=A:h.selected=A;const b=v.value?Z:Z.map(N=>N.value);e.onChange(c.value?b:b[0],v.value?null:Z.map(N=>N.label),h)}},ie=(P,j)=>{let{selected:W,source:u}=j;var g,O,A;const z=o.toRaw(m.value),Z=o.toRaw(k.value),h=z[P],y=h==null?void 0:h.node,b=(g=y==null?void 0:y[f.value.value])!==null&&g!==void 0?g:P;if(!c.value)Y([b],{selected:!0,triggerValue:b},"option");else{let N=W?[...X.value,b]:se.value.filter(V=>V!==b);if(i.value){const{missingRawValues:V,existRawValues:D}=C(N),E=D.map(q=>Z.get(q).key);let M;W?{checkedKeys:M}=Re(E,!0,z,te.value,ne.value):{checkedKeys:M}=Re(E,{checked:!1,halfCheckedKeys:le.value},z,te.value,ne.value),N=[...V,...M.map(q=>z[q].node[f.value.value])]}Y(N,{selected:W,triggerValue:b},u||"option")}W||!c.value?(O=e.onSelect)===null||O===void 0||O.call(e,b,Qe(y)):(A=e.onDeselect)===null||A===void 0||A.call(e,b,Qe(y))},Q=P=>{if(e.onDropdownVisibleChange){const j={};Object.defineProperty(j,"documentClickClose",{get(){return r.warning$1(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),e.onDropdownVisibleChange(P,j)}},oe=(P,j)=>{const W=P.map(u=>u.value);if(j.type==="clear"){Y(W,{},"selection");return}j.values.length&&ie(j.values[0].value,{selected:!1,source:"selection"})},{treeNodeFilterProp:ae,loadData:de,treeLoadedKeys:H,onTreeLoad:ee,treeDefaultExpandAll:ce,treeExpandedKeys:pe,treeDefaultExpandedKeys:De,onTreeExpand:_e,virtual:Te,listHeight:$e,listItemHeight:Ce,treeLine:ke,treeIcon:Ie,showTreeIcon:Ke,switcherIcon:Ne,treeMotion:Ee,customSlots:Ve,dropdownMatchSelectWidth:be,treeExpandAction:Le}=o.toRefs(e);me.useProvideLegacySelectContext(me.toReactive({checkable:d,loadData:de,treeLoadedKeys:H,onTreeLoad:ee,checkedKeys:se,halfCheckedKeys:le,treeDefaultExpandAll:ce,treeExpandedKeys:pe,treeDefaultExpandedKeys:De,onTreeExpand:_e,treeIcon:Ie,treeMotion:Ee,showTreeIcon:Ke,switcherIcon:Ne,treeLine:ke,treeNodeFilterProp:ae,keyEntities:m,customSlots:Ve})),Xn(me.toReactive({virtual:Te,listHeight:$e,listItemHeight:Ce,treeData:T,fieldNames:f,onSelect:ie,dropdownMatchSelectWidth:be,treeExpandAction:Le}));const we=o.ref();return a({focus(){var P;(P=we.value)===null||P===void 0||P.focus()},blur(){var P;(P=we.value)===null||P===void 0||P.blur()},scrollTo(P){var j;(j=we.value)===null||j===void 0||j.scrollTo(P)}}),()=>{var P;const j=je.omit(e,["id","prefixCls","customSlots","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","virtual","listHeight","listItemHeight","onDropdownVisibleChange","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"]);return o.createVNode(me.BaseSelect,r._objectSpread2(r._objectSpread2(r._objectSpread2({ref:we},n),j),{},{id:s,prefixCls:e.prefixCls,mode:c.value?"multiple":void 0,displayValues:re.value,onDisplayValuesChange:oe,searchValue:p.value,onSearch:S,OptionList:Qn,emptyOptions:!K.value.length,onDropdownVisibleChange:Q,tagRender:e.tagRender||l.tagRender,dropdownMatchSelectWidth:(P=e.dropdownMatchSelectWidth)!==null&&P!==void 0?P:!0}),l)}}}),ho=e=>{const{componentCls:t,treePrefixCls:n,colorBgElevated:a}=e,l=`.${n}`;return[{[`${t}-dropdown`]:[{padding:`${e.paddingXS}px ${e.paddingXS/2}px`},qn(n,r.merge(e,{colorBgContainer:a})),{[l]:{borderRadius:0,"&-list-holder-inner":{alignItems:"stretch",[`${l}-treenode`]:{[`${l}-node-content-wrapper`]:{flex:"auto"}}}}},an.getStyle(`${n}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${l}-switcher${l}-switcher_close`]:{[`${l}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};function po(e,t){return r.genComponentStyleHook("TreeSelect",n=>{const a=r.merge(n,{treePrefixCls:t.value});return[ho(a)]})(e)}const Et=(e,t,n)=>n!==void 0?n:`${e}-${t}`;function yo(){return r._extends(r._extends({},je.omit(Bt(),["showTreeIcon","treeMotion","inputIcon","getInputElement","treeLine","customSlots"])),{suffixIcon:r.PropTypes.any,size:r.stringType(),bordered:r.booleanType(),treeLine:r.someType([Boolean,Object]),replaceFields:r.objectType(),placement:r.stringType(),status:r.stringType(),popupClassName:String,dropdownClassName:String,"onUpdate:value":r.functionType(),"onUpdate:treeExpandedKeys":r.functionType(),"onUpdate:searchValue":r.functionType()})}const Ge=o.defineComponent({compatConfig:{MODE:3},name:"ATreeSelect",inheritAttrs:!1,props:r.initDefaultProps(yo(),{choiceTransitionName:"",listHeight:256,treeIcon:!1,listItemHeight:26,bordered:!0}),slots:Object,setup(e,t){let{attrs:n,slots:a,expose:l,emit:s}=t;r.warning$1(!(e.treeData===void 0&&a.default),"`children` of TreeSelect is deprecated. Please use `treeData` instead."),r.devWarning(e.multiple!==!1||!e.treeCheckable,"TreeSelect","`multiple` will always be `true` when `treeCheckable` is true"),r.devWarning(e.replaceFields===void 0,"TreeSelect","`replaceFields` is deprecated, please use fieldNames instead"),r.devWarning(!e.dropdownClassName,"TreeSelect","`dropdownClassName` is deprecated. Please use `popupClassName` instead.");const i=r.useInjectFormItemContext(),d=r.FormItemInputContext.useInject(),v=o.computed(()=>st.getMergedStatus(d.status,e.status)),{prefixCls:c,renderEmpty:f,direction:p,virtual:w,dropdownMatchSelectWidth:S,size:K,getPopupContainer:m,getPrefixCls:k,disabled:C}=r.useConfigInject("select",e),{compactSize:T,compactItemClassnames:_}=r.useCompactItemContext(c,p),$=o.computed(()=>T.value||K.value),x=r.useInjectDisabled(),R=o.computed(()=>{var H;return(H=C.value)!==null&&H!==void 0?H:x.value}),F=o.computed(()=>k()),I=o.computed(()=>e.placement!==void 0?e.placement:p.value==="rtl"?"bottomRight":"bottomLeft"),L=o.computed(()=>Et(F.value,r.getTransitionDirection(I.value),e.transitionName)),J=o.computed(()=>Et(F.value,"",e.choiceTransitionName)),X=o.computed(()=>k("select-tree",e.prefixCls)),te=o.computed(()=>k("tree-select",e.prefixCls)),[ne,se]=me.useSelectStyle(c),[le]=po(te,X),ve=o.computed(()=>r.classNames(e.popupClassName||e.dropdownClassName,`${te.value}-dropdown`,{[`${te.value}-dropdown-rtl`]:p.value==="rtl"},se.value)),re=o.computed(()=>!!(e.treeCheckable||e.multiple)),Y=o.computed(()=>e.showArrow!==void 0?e.showArrow:e.loading||!re.value),ie=o.ref();l({focus(){var H,ee;(ee=(H=ie.value).focus)===null||ee===void 0||ee.call(H)},blur(){var H,ee;(ee=(H=ie.value).blur)===null||ee===void 0||ee.call(H)}});const Q=function(){for(var H=arguments.length,ee=new Array(H),ce=0;ce<H;ce++)ee[ce]=arguments[ce];s("update:value",ee[0]),s("change",...ee),i.onFieldChange()},oe=H=>{s("update:treeExpandedKeys",H),s("treeExpand",H)},ae=H=>{s("update:searchValue",H),s("search",H)},de=H=>{s("blur",H),i.onFieldBlur()};return()=>{var H,ee;const{notFoundContent:ce=(H=a.notFoundContent)===null||H===void 0?void 0:H.call(a),prefixCls:pe,bordered:De,listHeight:_e,listItemHeight:Te,multiple:$e,treeIcon:Ce,treeLine:ke,showArrow:Ie,switcherIcon:Ke=(ee=a.switcherIcon)===null||ee===void 0?void 0:ee.call(a),fieldNames:Ne=e.replaceFields,id:Ee=i.id.value}=e,{isFormItemInput:Ve,hasFeedback:be,feedbackIcon:Le}=d,{suffixIcon:we,removeIcon:P,clearIcon:j}=me.getIcons(r._extends(r._extends({},e),{multiple:re.value,showArrow:Y.value,hasFeedback:be,feedbackIcon:Le,prefixCls:c.value}),a);let W;ce!==void 0?W=ce:W=f("Select");const u=je.omit(e,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon","bordered","status","onUpdate:value","onUpdate:treeExpandedKeys","onUpdate:searchValue"]),g=r.classNames(!pe&&te.value,{[`${c.value}-lg`]:$.value==="large",[`${c.value}-sm`]:$.value==="small",[`${c.value}-rtl`]:p.value==="rtl",[`${c.value}-borderless`]:!De,[`${c.value}-in-form-item`]:Ve},st.getStatusClassNames(c.value,v.value,be),_.value,n.class,se.value),O={};return e.treeData===void 0&&a.default&&(O.children=r.flattenChildren(a.default())),ne(le(o.createVNode(vo,r._objectSpread2(r._objectSpread2(r._objectSpread2(r._objectSpread2({},n),u),{},{disabled:R.value,virtual:w.value,dropdownMatchSelectWidth:S.value,id:Ee,fieldNames:Ne,ref:ie,prefixCls:c.value,class:g,listHeight:_e,listItemHeight:Te,treeLine:!!ke,inputIcon:we,multiple:$e,removeIcon:P,clearIcon:j,switcherIcon:A=>Fn(X.value,Ke,A,a.leafIcon,ke),showTreeIcon:Ce,notFoundContent:W,getPopupContainer:m==null?void 0:m.value,treeMotion:null,dropdownClassName:ve.value,choiceTransitionName:J.value,onChange:Q,onBlur:de,onSearch:ae,onTreeExpand:oe},O),{},{transitionName:L.value,customSlots:r._extends(r._extends({},a),{treeCheckable:()=>o.createVNode("span",{class:`${c.value}-tree-checkbox-inner`},null)}),maxTagPlaceholder:e.maxTagPlaceholder||a.maxTagPlaceholder,placement:I.value,showArrow:be||Ie}),r._extends(r._extends({},a),{treeCheckable:()=>o.createVNode("span",{class:`${c.value}-tree-checkbox-inner`},null)}))))}}}),Ot=Fe,go=r._extends(Ge,{TreeNode:Fe,SHOW_ALL:Zn,SHOW_PARENT:Mt,SHOW_CHILD:rt,install:e=>(e.component(Ge.name,Ge),e.component(Ot.displayName,Ot),e)}),mo=o.defineComponent({__name:"AsyncTreeSelect",props:{value:{},treeData:{type:[Array,Function]}},setup(e,{emit:t}){const n=e,a=t,l=o.ref([]),s=o.computed({get(){return n.value},set(v){a("update:value",v)}}),i=o.ref(!1);return(async()=>{i.value=!0;try{if(!n.treeData){console.error("options must not be empty");return}if(n.treeData instanceof Function){const v=await n.treeData();l.value=v||[]}else{if(n.treeData&&!Array.isArray(n.treeData)){console.error("options must be an array or a function that returns an array");return}l.value=n.treeData||[]}}catch(v){console.error(v)}i.value=!1,s.value=n.value})(),(v,c)=>(o.openBlock(),o.createBlock(o.unref(go),o.mergeProps({value:s.value,onChange:c[0]||(c[0]=f=>s.value=f),loading:i.value,treeData:l.value},v.$attrs),null,16,["value","loading","treeData"]))}});exports.default=mo;
